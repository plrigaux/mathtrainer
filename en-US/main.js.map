{"version":3,"file":"main.js","mappings":"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","sources":["en.js","./src/app/answer-value/answer-value.component.ts","./src/app/answer-value/answer-value.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/array-filter.pipe.ts","./src/app/column-answer/column-answer.component.ts","./src/app/column-answer/column-answer.component.html","./src/app/config-dialog-opener/config-dialog-opener.component.ts","./src/app/config-dialog-opener/config-dialog-opener.component.html","./src/app/config-dialog-ranges/config-dialog-ranges.component.ts","./src/app/config-dialog-ranges/config-dialog-ranges.component.html","./src/app/config-dialog/config-dialog.component.ts","./src/app/config-dialog/config-dialog.component.html","./src/app/form-panel/form-panel.component.ts","./src/app/form-panel/form-panel.component.html","./src/app/main-page/main-buttons/main-buttons.component.ts","./src/app/main-page/main-buttons/main-buttons.component.html","./src/app/main-page/main-page.component.ts","./src/app/main-page/main-page.component.html","./src/app/main-page/main-tabs-programs/main-tabs-programs.component.ts","./src/app/main-page/main-tabs-programs/main-tabs-programs.component.html","./src/app/main-page/main-tabs-series/main-tabs-series.component.ts","./src/app/main-page/main-tabs-series/main-tabs-series.component.html","./src/app/math-generator/mathGenerator.ts","./src/app/math-generator/mathProblem.ts","./src/app/math-generator/mathProblemTypes.ts","./src/app/math-generator/rangeManager.ts","./src/app/math-generator/worksheets.ts","./src/app/math-generator/worksheets2.ts","./src/app/math-generator/worksheetsMap.ts","./src/app/math-question/math-question.component.ts","./src/app/math-question/math-question.component.html","./src/app/multiplication-table/multiplication-table.component.ts","./src/app/multiplication-table/multiplication-table.component.html","./src/app/page-not-found/page-not-found.component.ts","./src/app/page-not-found/page-not-found.component.html","./src/app/problem-panel/problem-panel.component.ts","./src/app/problem-panel/problem-panel.component.html","./src/app/problem-panel/problem-panel-dialog.component.html","./src/app/progress-bar/progress-bar.component.ts","./src/app/progress-bar/progress-bar.component.html","./src/app/services/config.service.ts","./src/app/services/config.ts","./src/app/services/math-question.service.ts","./src/app/test-features/display-test/display-test.component.ts","./src/app/test-features/display-test/display-test.component.html","./src/app/test-features/inputtest/input-test.component.ts","./src/app/test-features/inputtest/input-test.component.html","./src/app/test-features/test-features.component.ts","./src/app/test-features/test-features.component.html","./src/app/test-features/test-generator/test-generator.component.ts","./src/app/test-features/test-generator/test-generator.component.html","./src/app/test-features/test-palette/test-palette.component.ts","./src/app/test-features/test-palette/test-palette.component.html","./src/app/workout-panel/workout-panel.component.ts","./src/app/workout-panel/workout-panel.component.html","./src/app/workout-panel/worktask.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["\"use strict\";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\\.?/,\"\").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales[\"en\"]=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xD7\",\"\\u2030\",\"\\u221E\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xA4#,##0.00\",\"#E0\"],\"USD\",\"$\",\"US Dollar\",{},\"ltr\",plural,[[[\"mi\",\"n\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],[\"midnight\",\"noon\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],u],[[\"midnight\",\"noon\",\"morning\",\"afternoon\",\"evening\",\"night\"],u,u],[\"00:00\",\"12:00\",[\"06:00\",\"12:00\"],[\"12:00\",\"18:00\"],[\"18:00\",\"21:00\"],[\"21:00\",\"06:00\"]]]]})(globalThis);","import { Component, ElementRef, EventEmitter, Input, Output, QueryList, ViewChildren } from '@angular/core';\nimport { ValidateCB } from '../math-question/math-question.component';\nimport { MathQuestionNotifier, QuestionStatus } from '../services/math-question.service';\nimport { FocusType } from '../column-answer/column-answer.component';\nimport { Subscription } from 'rxjs';\nimport { Config } from '../services/config';\n\n@Component({\n  selector: 'app-answer-value',\n  standalone: false,\n  templateUrl: './answer-value.component.html',\n  styleUrl: './answer-value.component.scss'\n})\nexport class AnswerValueComponent {\n  @Input() user_input_value: string = '';\n  @Input() id: string = \"NO_ID\";\n  @Input() real_answer: number;\n  @Input() config: Config;\n  @Output() status_change = new EventEmitter<QuestionStatus>();\n\n  @ViewChildren('answer_input') inputs: QueryList<ElementRef>;\n\n  private myEventSubscriptions: Subscription[] = [];\n  private currentFocus = FocusType.BLUR;\n  private isSwitchColunm: boolean = false;\n  //@Output() focusChange = new EventEmitter<FocusType>();\n\n  private answerStatus: QuestionStatus = QuestionStatus.EMPTY;\n\n  ngOnDestroy(): void {\n    this.myEventSubscriptions.forEach(subscription => {\n      console.debug(this.log(`subscription.unsubscribe() ${subscription}`))\n      subscription.unsubscribe()\n    });\n  }\n\n\n  clearInput() {\n    this.log(`clearInput`);\n    //this.value = '';\n    //this.answerStatus = QuestionStatus.EMPTY;\n    this.modelChangeNormal(\"\")\n  }\n\n\n  log(msg: any) {\n    console.log(`ASW - ${this.id} -`, msg)\n  }\n\n  isEmpty(): boolean {\n    return this.user_input_value == null || this.user_input_value.length === 0;\n  }\n\n  modelChangeNormal(change: string): void {\n    this.log(`value change from: \"${this.user_input_value}\" to: \"${change}\"`)\n\n    this.user_input_value = change;\n    //this.valueChange.emit(this.value);\n    let answerStatus = this.answerStatus\n\n    let newStatus = this.validate_value_change()\n    this.log(\"New status: \" + newStatus);\n\n    this.answerStatus = newStatus\n  }\n\n  validate_value_change(): QuestionStatus {\n    let status: QuestionStatus = null;\n    if (this.config.realTimeValidation) {\n      status = this.validate_answer_real_time(true)\n    } else {\n      status = this.validate_answer_on_blur();\n    }\n    return status;\n  }\n\n\n  validate_answer_on_blur(): QuestionStatus {\n\n    let empty = this.isEmpty()\n    let status = this.answerStatus;\n\n    if (this.currentFocus == FocusType.FOCUS) {\n      status = QuestionStatus.FOCUS\n    } else {\n      status = empty ? QuestionStatus.EMPTY : QuestionStatus.ANSWERED\n    }\n\n    return this.changeStatus(status, false, true)\n\n  }\n\n  validate_answer_real_time(informParent: boolean): QuestionStatus {\n\n    this.log(`User Input: ${this.user_input_value} Answer: ${this.real_answer}`);\n\n    let userAnswer = parseInt(this.user_input_value);\n\n    this.log(`User Input: ${this.user_input_value} userAnswer: ${userAnswer}`)\n    let status = this.answerStatus;\n    if (userAnswer === this.real_answer) {\n      console.debug(this.log(\"R\"))\n      status = QuestionStatus.RIGHT;\n    }\n    else if (isNaN(userAnswer)) {\n      console.debug(this.log(\"Void\"))\n      status = this.currentFocus == FocusType.FOCUS ? QuestionStatus.FOCUS : QuestionStatus.EMPTY;\n    }\n    else if (this.currentFocus == FocusType.FOCUS) {\n      let userAnswerLength = userAnswer.toString().length; //this to ensure raw string length (it trims)\n      let answerLength = this.real_answer.toString().length\n      if (userAnswerLength >= answerLength) {\n        console.debug(this.log(\"W Length\"))\n        status = QuestionStatus.WRONG;\n      } else {\n        console.debug(this.log(\"Infocus\"))\n        status = QuestionStatus.FOCUS;\n      }\n    }\n    else {\n      console.debug(this.log(\"W\"))\n      status = QuestionStatus.WRONG;\n    }\n\n    return this.changeStatus(status, false, informParent)\n  }\n\n  private changeStatus(newStatus: QuestionStatus, forceExitFocus: boolean, isParentCanValidate: boolean): QuestionStatus {\n    if (this.answerStatus !== newStatus) {\n      this.answerStatus = newStatus\n      this.status_change.emit(this.answerStatus)\n    }\n\n    return this.answerStatus\n  }\n\n  get_class() : string {\n    let clazz = ''\n    switch (this.answerStatus) {\n\n      case QuestionStatus.WRONG:\n        clazz = 'wrong'\n        break;\n      case QuestionStatus.RIGHT:\n        clazz = 'right'\n        break;\n      case QuestionStatus.FOCUS:\n        clazz = 'focus'\n        break;\n    }\n\n    return clazz\n  }\n\n  onFocusSimple(e: FocusEvent) {\n    this.setInFocus(FocusType.FOCUS);\n  }\n\n  onBlurSimple(e: FocusEvent) {\n    this.setInFocus(FocusType.BLUR);\n  }\n\n  private setInFocus(newFocus: FocusType) {\n    this.log(`Focus ${newFocus} this.inFocus ${this.currentFocus}  this.isSwitchColunm ${this.isSwitchColunm}`)\n\n    if (this.currentFocus !== newFocus) {\n      if (this.isSwitchColunm == false) {\n        //this.focusChange.emit(newFocus);\n      } else {\n        this.isSwitchColunm = false;\n      }\n\n      if (newFocus == FocusType.FOCUS) {\n        if (this.isEmpty()) {\n          this.answerStatus = QuestionStatus.FOCUS\n        }\n      } else if (newFocus == FocusType.BLUR) {\n        if (this.isEmpty()) {\n          this.answerStatus = QuestionStatus.EMPTY\n        }\n      }\n    }\n\n    this.currentFocus = newFocus;\n  }\n\n  focus() {\n    this.inputs.first.nativeElement.focus();\n  }\n}\n","<mat-form-field appearance=\"outline\" [ngClass]=\"get_class()\" class=\"answer_input\">\n\n    <button mat-icon-button matPrefix color=\"accent\" aria-label=\"Clear\" color=\"accent\" aria-label=\"Clear\"\n        (click)=\"clearInput()\" [disabled]=\"isEmpty()\">\n        <mat-icon svgIcon=\"delete-cross\"></mat-icon>\n    </button>\n    <input matInput #answer_input type=\"number\" class=\"num-align\" placeholder=\"?\" [ngModel]=\"user_input_value\" (focus)=\"onFocusSimple($event)\"\n        (blur)=\"onBlurSimple($event)\" (ngModelChange)=\"modelChangeNormal($event)\">\n\n</mat-form-field>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkoutPanelComponent } from './workout-panel/workout-panel.component';\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\nimport { ProblemPanelComponent } from './problem-panel/problem-panel.component';\nimport { MainPageComponent } from './main-page/main-page.component';\nimport { TestFeaturesComponent } from './test-features/test-features.component';\nimport { DisplayTestComponent } from './test-features/display-test/display-test.component';\nimport { InputTestComponent } from './test-features/inputtest/input-test.component';\nimport { MultiplicationTableComponent } from './multiplication-table/multiplication-table.component';\nimport { TestPaletteComponent } from \"./test-features/test-palette/test-palette.component\";\nimport { TestGeneratorComponent } from './test-features/test-generator/test-generator.component';\n\nconst appRoutes: Routes = [\n  { path: 'workout', component: WorkoutPanelComponent },\n  { path: 'problems', component: ProblemPanelComponent },\n  { path: 'test', component: TestFeaturesComponent },\n  { path: 'test1', component: InputTestComponent },\n  { path: 'test2', component: DisplayTestComponent },\n  { path: 'test3', component: TestPaletteComponent },\n  { path: 'testgen', component: TestGeneratorComponent },\n  { path: 'multiplicationtable', component: MultiplicationTableComponent },\n  { path: 'additiontable', component: MultiplicationTableComponent },\n  { path: '', component: MainPageComponent},\n  { path: '**', component: PageNotFoundComponent },\n  \n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(appRoutes, { enableTracing: true })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit, LOCALE_ID, Inject } from '@angular/core';\nimport { MatRadioChange as MatRadioChange } from '@angular/material/radio';\nimport { ConfigService, ConfigServiceInfo } from './services/config.service'\nimport { MatCheckboxChange as MatCheckboxChange } from '@angular/material/checkbox';\nimport { Config, EquationOrientation, EquationOrientations } from './services/config';\nimport { RouterOutlet, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n\n  previoustheme: string = null;\n  //currentTheme: string = null;\n  myname: string = \"myname\";\n  config: Config;\n  equationOrientations: EquationOrientation[] = EquationOrientations;\n  private myEventSubscriptions: Subscription[] = [];\n\n  public readonly themes = [\n    { value: 'default-theme', label: \"Default\" },\n    { value: 'dark-theme', label: \"Dark\" },\n    { value: 'light-theme', label: \"Light\" },\n    { value: 'deeppurple-amber', label: \"Deep Purple & Amber\" },\n    { value: 'indigo-pink', label: \"Indigo & Pink\" },\n    { value: 'pink-bluegrey', label: \"Pink & Blue-grey\" },\n    { value: 'purple-green', label: \"Purple & Green\" },\n    { value: 'candy', label: \"Pumpkin\" },\n  ]\n\n  readonly localesList = [\n    { code: 'en-US', label: 'English' },\n    { code: 'fr', label: 'Français' }\n  ]\n\n  localeLabel : string;\n\n  constructor(private configSrv: ConfigService, private router: Router,  @Inject(LOCALE_ID) public locale: string) {\n \n    this.localeLabel = this.localesList.find(loc => loc.code == this.locale).label\n  }\n\n  ngOnInit(): void {\n    this.myEventSubscriptions.push(this.configSrv.subscribe({\n      next: (cfgi : ConfigServiceInfo) => {\n        this.config = cfgi.config;\n        this.setTheme();\n      }\n    }));\n  }\n\n  ngOnDestroy(): void {\n    this.myEventSubscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  setTheme() {\n    if (this.previoustheme == this.config.theme) {\n      return;\n    }\n\n    document.body.classList.remove(this.previoustheme);\n    document.body.classList.add(this.config.theme);\n    this.previoustheme = this.config.theme;\n  }\n\n  menuThemeRadioChange(event: MatRadioChange) {\n    console.log(event);\n    //console.log(`currentTheme: ${this.currentTheme}`);\n    //this.currentTheme = event.value\n    this.configSrv.next(this.config, false);\n    this.setTheme();\n  }\n\n  realTimeValidationChange(event: MatCheckboxChange) {\n    this.configSrv.next(this.config, false);\n  }\n\n  menuEquationOrientationChange() {\n    this.configSrv.next(this.config, false);\n  }\n\n  getAnimationData(outlet: RouterOutlet) {\n    return outlet && outlet.activatedRouteData && outlet.activatedRouteData['animation'];\n  }\n\n  goHome(): void {\n    this.router.navigate(['/']);\n  }\n\n  goMultiplicationTable(): void {\n    this.router.navigate(['/multiplicationtable']);\n  }\n\n  goAdditionTable(): void {\n    this.router.navigate(['/additiontable']);\n  }\n}\n","<mat-toolbar color=\"primary\">\n  <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n    <mat-icon>menu</mat-icon>\n  </button>\n  <h1 i18n=\"@@title\">Arithmetic practice</h1>\n\n  <!-- This fills the remaining space of the current row -->\n  <span class=\"example-fill-remaining-space\"></span>\n\n  <button mat-button [matMenuTriggerFor]=\"menuLang\">\n    <mat-icon>language</mat-icon>\n    {{localeLabel}}\n  </button>\n</mat-toolbar>\n<!-- <div id=\"contentPanel\" [@routeAnimation]=\"getAnimationData(routerOutlet)\"> -->\n<div id=\"contentPanel\">\n  <router-outlet #routerOutlet=\"outlet\"></router-outlet>\n</div>\n\n<mat-menu #menuLang=\"matMenu\">\n  <a *ngFor=\"let loc of localesList\" mat-menu-item href=\"../{{loc.code}}\">\n    {{loc.label}}\n  </a>\n</mat-menu>\n\n<mat-menu #menu=\"matMenu\">\n  <button mat-menu-item (click)=\"goHome()\">\n    <mat-icon>home</mat-icon>\n    <span i18n=\"enter page@@home\">Home</span>\n  </button>\n  <mat-divider></mat-divider>\n  <button mat-menu-item (click)=\"goAdditionTable()\">\n    <span i18n=\"menu@@additionTable\">Addition Table</span>\n  </button>\n  <button mat-menu-item (click)=\"goMultiplicationTable()\">\n    <span i18n=\"menu@@multiplicationTable\">Multiplication Table</span>\n  </button>\n  <mat-divider></mat-divider>\n  <button mat-menu-item [matMenuTriggerFor]=\"menuTheme\">\n    <mat-icon>color_lens</mat-icon>\n    <span i18n=\"colour themes@@themes\">Themes</span>\n  </button>\n  <button mat-menu-item [matMenuTriggerFor]=\"menuEquationOrientation\">\n    <span>Equation Orientation</span>\n  </button>\n  <div mat-menu-item>\n    <mat-checkbox labelPosition=\"before\" [(ngModel)]=\"config.realTimeValidation\"\n      (change)='realTimeValidationChange($event)'>\n      Realtime Validation\n    </mat-checkbox>\n  </div>\n</mat-menu>\n\n\n<mat-menu #menuTheme=\"matMenu\">\n  <mat-radio-group aria-label=\"Select an option\" class=\"menu-radio-group\" [(ngModel)]=\"config.theme\"\n    (change)=\"menuThemeRadioChange($event)\">\n    <div mat-menu-item *ngFor=\"let theme of themes\">\n      <mat-radio-button [value]=\"theme.value\">{{theme.label}}</mat-radio-button>\n    </div>\n  </mat-radio-group>\n</mat-menu>\n\n<mat-menu #menuEquationOrientation=\"matMenu\">\n  <mat-radio-group aria-label=\"Select an option\" class=\"menu-radio-group\" [(ngModel)]=\"config.orientation\"\n    (change)='menuEquationOrientationChange()'>\n    <div mat-menu-item *ngFor=\"let orientation of equationOrientations\">\n      <mat-radio-button [value]=\"orientation.code\">{{orientation.label}}</mat-radio-button>\n    </div>\n  </mat-radio-group>\n</mat-menu>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MathQuestionComponent } from './math-question/math-question.component';\nimport { ProblemPanelComponent } from './problem-panel/problem-panel.component';\nimport { ProblemPanelComponentDialog } from './problem-panel/problem-panel.component';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ConfigDialogOpenerComponent } from './config-dialog-opener/config-dialog-opener.component';\nimport { ConfigDialogComponent } from './config-dialog/config-dialog.component';\nimport { ConfigService } from './services/config.service';\n\nimport { A11yModule } from '@angular/cdk/a11y';\nimport { ClipboardModule } from '@angular/cdk/clipboard';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CdkStepperModule } from '@angular/cdk/stepper';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { CdkTreeModule } from '@angular/cdk/tree';\nimport { MatAutocompleteModule as MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatButtonModule as MatButtonModule } from '@angular/material/button';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatCardModule as MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule as MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatChipsModule as MatChipsModule } from '@angular/material/chips';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule as MatDialogModule } from '@angular/material/dialog';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule as MatInputModule } from '@angular/material/input';\nimport { MatListModule as MatListModule } from '@angular/material/list';\nimport { MatMenuModule as MatMenuModule } from '@angular/material/menu';\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core';\nimport { MatPaginatorModule as MatPaginatorModule } from '@angular/material/paginator';\nimport { MatProgressBarModule as MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule as MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule as MatRadioModule } from '@angular/material/radio';\nimport { MatSelectModule as MatSelectModule } from '@angular/material/select';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatSliderModule as MatSliderModule } from '@angular/material/slider';\nimport { MatSlideToggleModule as MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatSnackBarModule as MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatTableModule as MatTableModule } from '@angular/material/table';\nimport { MatTabsModule as MatTabsModule } from '@angular/material/tabs';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule as MatTooltipModule } from '@angular/material/tooltip';\nimport { MatTreeModule } from '@angular/material/tree';\nimport { ConfigDialogRangesComponent } from './config-dialog-ranges/config-dialog-ranges.component';\nimport { FormPanelComponent } from './form-panel/form-panel.component';\nimport { WorkoutPanelComponent } from './workout-panel/workout-panel.component';\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\nimport { MainPageComponent } from './main-page/main-page.component';\nimport { ArrayFilterPipe } from './array-filter.pipe';\nimport { TestFeaturesComponent } from './test-features/test-features.component';\nimport { ColumnAnswerComponent } from './column-answer/column-answer.component';\nimport { DisplayTestComponent } from './test-features/display-test/display-test.component';\nimport { InputTestComponent } from './test-features/inputtest/input-test.component';\nimport { ProgressBarComponent } from './progress-bar/progress-bar.component';\nimport { MainTabsSeriesComponent } from './main-page/main-tabs-series/main-tabs-series.component';\nimport { MultiplicationTableComponent } from './multiplication-table/multiplication-table.component';\nimport { TestPaletteComponent } from './test-features/test-palette/test-palette.component';\nimport { MainTabsProgramsComponent } from './main-page/main-tabs-programs/main-tabs-programs.component';\nimport { MainButtonsComponent } from './main-page/main-buttons/main-buttons.component';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { AnswerValueComponent } from './answer-value/answer-value.component'\n@NgModule({\n  declarations: [\n    AppComponent,\n    MathQuestionComponent,\n    ProblemPanelComponent,\n    ConfigDialogOpenerComponent,\n    ConfigDialogComponent,\n    ConfigDialogRangesComponent,\n    FormPanelComponent,\n    WorkoutPanelComponent,\n    PageNotFoundComponent,\n    MainPageComponent,\n    ArrayFilterPipe,\n    TestFeaturesComponent,\n    ColumnAnswerComponent,\n    DisplayTestComponent,\n    InputTestComponent,\n    ProgressBarComponent,\n    MainTabsSeriesComponent,\n    MultiplicationTableComponent,\n    TestPaletteComponent,\n    MainTabsProgramsComponent,\n    ProblemPanelComponentDialog,\n    MainButtonsComponent,\n    AnswerValueComponent\n  ],\n  imports: [\n    HttpClientModule,\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    A11yModule,\n    ClipboardModule,\n    CdkStepperModule,\n    CdkTableModule,\n    CdkTreeModule,\n    DragDropModule,\n    MatAutocompleteModule,\n    MatBadgeModule,\n    MatBottomSheetModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatChipsModule,\n    MatStepperModule,\n    MatDatepickerModule,\n    MatDialogModule,\n    MatDividerModule,\n    MatExpansionModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    MatMenuModule,\n    MatNativeDateModule,\n    MatPaginatorModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatRippleModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSnackBarModule,\n    MatSortModule,\n    MatTableModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    MatTreeModule,\n    PortalModule,\n    ScrollingModule,\n  ],\n  providers: [ConfigService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'arrayFilter',\n  pure: true\n})\nexport class ArrayFilterPipe implements PipeTransform {\n\n  transform(items: any[], callback: (item : any, ...args : any[]) => boolean, ...args : any[]): any {\n    if (!items || !callback) {\n      return items;\n    }\n\n    return items.filter(item => callback(item, ...args));\n  }\n}\n","import { Component, OnInit, ViewChildren, QueryList, ElementRef, ChangeDetectorRef, Input, EventEmitter, Output, SimpleChanges } from '@angular/core';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { QuestionStatus } from '../services/math-question.service';\nimport { trigger, transition, state, animate, style, keyframes } from '@angular/animations';\nimport { ValidateCB } from '../math-question/math-question.component';\n\n@Component({\n  selector: 'app-column-answer',\n  templateUrl: './column-answer.component.html',\n  styleUrls: ['./column-answer.component.scss'],\n  animations: [\n    trigger('answerStatus', [\n      state(QuestionStatus.RIGHT, style({ backgroundColor: 'limegreen' })),\n      state(QuestionStatus.WRONG, style({ backgroundColor: 'red' })),\n      state(QuestionStatus.EMPTY, style({ backgroundColor: 'white' })),\n      state(QuestionStatus.FOCUS, style({ backgroundColor: 'lightyellow' })),\n      state(QuestionStatus.ANSWERED, style({ backgroundColor: 'lightgray' })),\n    ])\n  ],\n})\nexport class ColumnAnswerComponent implements OnInit {\n  @ViewChildren('columninput') inputs: QueryList<ElementRef>;\n\n  @Input() size: number;\n  @Input() mode: ColumnAnswerMode = null;\n  @Input() answerStatus: QuestionStatus;\n  @Input() id: string = null;\n  @Input() value: string = \"\";\n  @Output() focusChange = new EventEmitter<FocusType>();\n  @Output() existFocus = new EventEmitter<any>();\n  @Input() valueChange: ValidateCB;\n  private currentFocus = FocusType.BLUR;\n  private last: number;\n\n\n  columnAnswerMode = ColumnAnswerMode;\n  userInputs: CAContent[] = null;\n  private inputchar: string;\n  private re = /\\d+/;\n  private isSwitchColunm: boolean = false;\n\n  constructor(private changeDetectorRef: ChangeDetectorRef,\n    iconRegistry: MatIconRegistry,\n    sanitizer: DomSanitizer) {\n    console.debug(this.log(`constructor this.size: ${this.size}`));\n\n    iconRegistry.addSvgIcon(\n      'delete-cross',\n      sanitizer.bypassSecurityTrustResourceUrl('assets/img/delete_icon.svg'));\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.debug(this.log(`ngOnChanges this.size: ${this.size} type: ${typeof this.size}`))\n    console.debug(this.log(changes))\n    //let size = parseInt(this.size)\n\n\n    if (changes['mode']) {\n      if (this.mode == ColumnAnswerMode.COLUMNS) {\n        if (this.userInputs == null) {\n          this.userInputs = new Array(this.size)\n          this.last = this.userInputs.length - 1;\n        }\n        this.switchColumnFocus = this.switchColumnFocusCB;\n        this.fill = this.fillColumn;\n        this.fill(this.value);\n      } else {\n        this.userInputs = null;\n        this.last = -1;\n        this.switchColumnFocus = this.switchSimpleFocusCB;\n        this.fill = this.fillSimple;\n      }\n    }\n\n    if (changes['value'] && this.mode == ColumnAnswerMode.COLUMNS) {\n      this.fill(this.value);\n    }\n\n    if (changes['size'] && this.mode == ColumnAnswerMode.COLUMNS) {\n      this.userInputs = new Array(this.size)\n      this.last = this.userInputs.length - 1;\n      this.fill(this.value);\n    }\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  ngAfterViewInit(): void {\n    console.debug(this.log(`plr: ${this.inputs.length}`))\n  }\n\n  modelChangeFn(change: string, idx: number) {\n    console.debug(this.log(`change \"${change}\" lenght: ${change != null ? change.length : 0} index: ${idx} curval: '${this.userInputs[idx].value}'`))\n    console.debug(this.log(this.userInputs))\n\n    let isClearCell = change == null || change.length == 0;\n\n    this.changeDetectorRef.detectChanges();\n\n    let newChange: string;\n    if (!isClearCell) {\n      let test = this.re.exec(this.inputchar)\n      console.debug(this.log(`test '${test}'`))\n      newChange = test != null ? test[0] : \"\";\n    } else {\n      newChange = \"\";\n    }\n\n    console.debug(this.log(`modif change' \"${newChange}\" lenght: ${newChange.length}`))\n\n    if (newChange.length > 0 || isClearCell) {\n      this.setUserInputs(newChange, idx);\n    } else {\n      //keep value\n      let dico = this.re.exec(this.userInputs[idx].value)\n      newChange = dico != null ? dico[0] : \"\";\n      this.setUserInputs(newChange, idx);\n    }\n\n    let val = \"\";\n    this.userInputs.forEach(v => {\n      val += v.value\n    });\n    this.value = val;\n\n    //this.valueChange.emit(this.value);\n    let answerStatus = this.answerStatus\n    let newStatus = this.valueChange(this.value, +this.id)\n\n\n    let leaveCursorThere: boolean;\n    switch (answerStatus) {\n      case QuestionStatus.EMPTY:\n      case QuestionStatus.FOCUS:\n        leaveCursorThere = newStatus == QuestionStatus.WRONG || newStatus == QuestionStatus.RIGHT;\n        break;\n      case QuestionStatus.WRONG:\n        leaveCursorThere = newStatus == QuestionStatus.RIGHT;\n        break;\n      case QuestionStatus.RIGHT:\n        leaveCursorThere = false;\n        break;\n      case QuestionStatus.ANSWERED:\n        leaveCursorThere = false;\n        break;\n    }\n\n    if (leaveCursorThere === false) {\n      if (newChange.length > 0) {\n        this.switchColumnFocus(idx - 1, idx);\n      } else {\n        this.switchColumnFocus(idx, idx); // just for select\n      }\n    }\n    console.log(leaveCursorThere);\n  }\n\n  private switchColumnFocus: SwitchFocusCB = null\n\n  private switchSimpleFocusCB: SwitchFocusCB = (newCol: number, oldCol: number) => {\n    this.inputs.first.nativeElement.focus();\n  };\n\n  private switchColumnFocusCB: SwitchFocusCB = (newCol: number, oldCol: number) => {\n    if (newCol < 0 || newCol >= this.inputs.length) {\n      return\n    }\n\n    let inputsArray = this.inputs.toArray();\n    this.isSwitchColunm = oldCol != newCol;\n    //ar[newCol].nativeElement.focus()\n    setTimeout(() => {\n      inputsArray[newCol].nativeElement.select();\n    }, 0);\n  }\n\n  private setUserInputs(val: string, idx: number) {\n    this.userInputs[idx].value = val;\n    for (let i = idx + 1; i < this.userInputs.length; i++) {\n      if (this.userInputs[i].value == null || this.userInputs[i].value == \"\") {\n        this.userInputs[i].value = \"0\"\n      }\n    }\n  }\n\n  modelChangeNormal(change: string): void {\n    console.debug(this.log(`change ${change} model val ${this.value}`))\n\n    this.value = change;\n    //this.valueChange.emit(this.value);\n    let val2 = this.valueChange(this.value, +this.id)\n    console.log(val2);\n  }\n\n  onKeydown(event: KeyboardEvent, index: number): void {\n\n    console.debug(this.log(event))\n    console.debug(this.log(`inputChar2: \"${this.inputchar}\" code ${event.code} key ${event.key}`))\n\n    switch (event.key) {\n      case \"ArrowLeft\":\n        this.switchColumnFocus(index - 1, index);\n        break;\n      case \"ArrowRight\":\n        this.switchColumnFocus(index + 1, index);\n        break;\n      case \"Backspace\":\n        console.log(\"Backspace\")\n        break;\n      case \"Delete\":\n        console.log(\"Delete\")\n        break;\n      case \"Enter\":\n        this.exitWidget();\n        break;\n      default:\n        this.inputchar = event.key;\n    }\n  }\n\n  onKeydownSimple(event: KeyboardEvent): void {\n\n    console.debug(this.log(event))\n    console.debug(this.log(`inputChar2: \"${this.inputchar}\" code ${event.code} key ${event.key}`))\n\n    switch (event.key) {\n      case \"Enter\":\n        this.exitWidget();\n        break;\n      default:\n        this.inputchar = event.key;\n    }\n  }\n\n  trackByIdx(index: number, obj: any): any {\n    return index;\n  }\n\n  clearInput() {\n    console.debug(this.log(`clearInput`));\n    this.value = null;\n\n    this.fill(this.value);\n\n    if (this.inputs.last) {\n      this.inputs.last.nativeElement.focus();\n    }\n    //this.valueChange.emit(this.value);\n    let val2 = this.valueChange(this.value, +this.id)\n    console.log(val2);\n  }\n\n  private fill: FillCB = null\n  private fillSimple: FillCB = () => { }\n  private fillColumn: FillCB = (val: string) => {\n    if (val == null) {\n      val = \"\"\n    }\n\n    for (let i = this.last, j = val.length - 1; i >= 0; i--, j--) {\n      this.userInputs[i] = {\n        value: j >= 0 ? val[j] : \"\",\n        tabindex: -1,\n        inFocus: FocusType.BLUR,\n        placeholder: \"\"\n      }\n    }\n\n    this.userInputs[this.last].placeholder = \"?\";\n    this.addTabIndex();\n  }\n\n  isEmpty() {\n    return this.value == null || this.value.length === 0;\n  }\n\n  onFocusColumns(e: FocusEvent, index: number) {\n    console.debug(this.log(`onFocusColumns ${index}`))\n    //console.debug(this.log(e));\n    //console.debug(this.log(typeof (e)));\n    //this.answerStatus = QuestionStatus.FOCUS;\n\n    if (this.value && this.value.length > 0) {\n      //console.warn(\"do select\");\n      (e.target as HTMLInputElement).select();\n    }\n    this.userInputs[index].inFocus = FocusType.FOCUS;\n    this.setInFocus(FocusType.FOCUS);\n    this.removeTabIndex();\n  }\n\n  onBlurColumns(e: any, index: number) {\n    //console.trace()\n    console.debug(this.log(`onBlurColumns ${index}`))\n    //console.debug(this.log(e))\n    //console.debug(this.log(typeof e))\n    this.userInputs[index].inFocus = FocusType.BLUR;\n    this.setInFocus(FocusType.BLUR);\n    this.addTabIndex();\n  }\n\n  private addTabIndex() {\n    this.setlastTabIndex(0);\n  }\n\n  private removeTabIndex() {\n    this.setlastTabIndex(-1);\n  }\n\n  private setlastTabIndex(indexValue: number) {\n    this.userInputs[this.last].tabindex = indexValue;\n  }\n\n  onFocusSimple(e: FocusEvent) {\n    this.setInFocus(FocusType.FOCUS);\n  }\n\n  onBlurSimple(e: FocusEvent) {\n    this.setInFocus(FocusType.BLUR);\n  }\n\n  private setInFocus(newFocus: FocusType) {\n    /*\n        let val = FocusType.BLUR\n        if (this.mode == ColumnAnswerMode.COLUMNS) {\n          this.userInputs.forEach(v => {\n             if(v.inFocus == FocusType.FOCUS) {\n                val = FocusType.FOCUS;\n             }\n          })\n        }\n    */\n    console.debug(this.log(`newFocus ${newFocus} this.inFocus ${this.currentFocus}  this.isSwitchColunm ${this.isSwitchColunm}`))\n    if (this.currentFocus !== newFocus) {\n      if (this.isSwitchColunm == false) {\n        this.focusChange.emit(newFocus);\n      } else {\n        this.isSwitchColunm = false;\n      }\n    }\n\n    this.currentFocus = newFocus;\n  }\n\n  focus() {\n    this.switchColumnFocus(this.last, this.last);\n  }\n\n  exitWidget() {\n    this.existFocus.emit(\"nothing\");\n  }\n\n  log(msg: any): any {\n\n    if (typeof msg == \"string\") {\n      return \"CA\" + this.id + \" - \" + msg;\n    }\n    return msg;\n  }\n}\n\nexport enum ColumnAnswerMode {\n  COLUMNS = \"COLUMNS\",\n  NORMAL = \"NORMAL\"\n}\n\nexport enum FocusType {\n  FOCUS = \"FOCUS\",\n  BLUR = \"BLUR\"\n}\n\nexport interface ANSWER_MODE {\n  code: ColumnAnswerMode;\n  label: string;\n};\n\nexport const ANSWER_MODES: ANSWER_MODE[] = [\n  { code: ColumnAnswerMode.NORMAL, label: \"Normal\" },\n  { code: ColumnAnswerMode.COLUMNS, label: \"Column\" }\n];\n\ninterface CAContent {\n  value: string;\n  tabindex: number;\n  inFocus: FocusType;\n  placeholder: string;\n}\n\ntype SwitchFocusCB = (newCol: number, oldCol: number) => void;\ntype FillCB = (val: string) => void;\n","<ng-container *ngIf=\"mode==columnAnswerMode.COLUMNS; then columns; else normal\"></ng-container>\n\n<ng-template #columns>\n    <div class=\"columnAnswer\">\n        <mat-form-field floatLabel=\"always\">\n      \n            <mat-label>?</mat-label>\n            <input *ngFor=\"let ipt of userInputs; index as i; last as isLast; trackBy:trackByIdx\" #columninput\n                type=\"number\" [(ngModel)]=\"userInputs[i].value\" (keydown)=\"onKeydown($event, i)\"\n                (ngModelChange)=\"modelChangeFn($event, i)\" [tabindex]=\"userInputs[i].tabindex\"\n                [placeholder]=\"userInputs[i].placeholder\" [@answerStatus]=\"answerStatus\"\n                (focus)=\"onFocusColumns($event, i)\" (blur)=\"onBlurColumns($event, i)\">\n                <button mat-icon-button color=\"accent\" aria-label=\"Clear\" (click)=\"clearInput()\" [disabled]=\"isEmpty()\"\n                tabindex=\"-1\">\n                <mat-icon svgIcon=\"delete-cross\"></mat-icon>\n            </button>\n        </mat-form-field>\n    </div>\n</ng-template>\n\n<ng-template #normal>\n    \n    <button mat-icon-button color=\"accent\" aria-label=\"Clear\" (click)=\"clearInput()\" [disabled]=\"isEmpty()\"\n        tabindex=\"-1\">\n        <mat-icon svgIcon=\"delete-cross\"></mat-icon>\n    </button>\n   \n    <input #columninput [ngModel]=\"value\" (ngModelChange)=\"modelChangeNormal($event)\"\n        [ngStyle]=\"{'width.rem': size}\" type=\"number\" (keydown)=\"onKeydownSimple($event)\" [@answerStatus]=\"answerStatus\"\n        (focus)=\"onFocusSimple($event)\" (blur)=\"onBlurSimple($event)\" placeholder=\"?\">\n\n        \n    \n</ng-template>","import { Component, OnInit } from '@angular/core';\nimport { ConfigDialogComponent } from \"../config-dialog/config-dialog.component\"\nimport { MatDialog } from '@angular/material/dialog';\nimport { Config } from '../services/config';\nimport { ConfigService, ConfigServiceMarchelor } from '../services/config.service'\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-config-dialog-opener',\n  templateUrl: './config-dialog-opener.component.html',\n  styleUrls: ['./config-dialog-opener.component.scss']\n})\n\n\nexport class ConfigDialogOpenerComponent implements OnInit {\n  private myEventSubscriptions : Subscription[] = [];\n  private config: Config;\n\n  constructor(public dialog: MatDialog, private configService: ConfigService) {\n\n  }\n\n  ngOnInit(): void {\n    this.myEventSubscriptions.push(this.configService.subscribe(\n      (cfi : ConfigServiceMarchelor) => { this.config = cfi.config; }\n    ));\n  }\n\n  ngOnDestroy(): void {\n    this.myEventSubscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(ConfigDialogComponent, {\n      width: '400px',\n      data: this.config\n    });\n\n    dialogRef.afterClosed().subscribe(results => {\n      console.log('The dialog was closed');\n      console.log(results);\n\n      if (results) {\n        this.config = { ...results }\n        this.configService.next(this.config, true)\n      }\n    });\n  }\n}\n","<button mat-menu-item (click)=\"openDialog()\">\n  <mat-icon>more_vert</mat-icon>\n  <span>\n    Configuration\n  </span>\n</button>","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Config } from '../services/config';\nimport { GenerateRange } from '../math-generator/mathProblemTypes';\nimport { MATHProplemActions } from '../math-generator/mathProblemTypes'\nimport { UntypedFormControl, Validators, UntypedFormGroup, UntypedFormArray, ValidationErrors, ValidatorFn, FormGroupDirective, NgForm, AbstractControl } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\n\n@Component({\n  selector: 'app-config-dialog-ranges',\n  templateUrl: './config-dialog-ranges.component.html',\n  styleUrls: ['./config-dialog-ranges.component.scss']\n})\nexport class ConfigDialogRangesComponent implements OnInit {\n\n  mathProplemActions: any;\n  mathProplemActionsKeys: string[];\n  config: Config;\n\n  displayedColumns: string[] = [\"position\", 'min', 'max'];\n\n  valueFormControl = new UntypedFormControl('', { updateOn: 'blur' });\n\n  equationRangeForm: UntypedFormGroup;\n  numbers: UntypedFormArray;\n  parentErrorStateMatcher = new ParentErrorStateMatcher();\n  \n  constructor(\n    public dialogRef: MatDialogRef<ConfigDialogRangesComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: Config) {\n\n    this.mathProplemActions = MATHProplemActions;\n    this.mathProplemActionsKeys = Object.keys(MATHProplemActions);\n    //console.log(\"data\");\n\n    //console.log(data);\n\n    this.config = { ...data };\n    this.numbers = new UntypedFormArray([])\n    this.equationRangeForm = new UntypedFormGroup({ numbers: this.numbers });\n\n\n\n    let arr = this.equationRangeForm.get('arr') as UntypedFormArray;\n\n    for (let i = 0; i < this.config.nbNumbers; i++) {\n\n      let gr: GenerateRange = this.config.generateRange[i]\n\n      let elem: GenerateRange = gr || {\n        min: 0,\n        max: 10\n      }\n\n      this.numbers.push(\n        new UntypedFormGroup({\n          min: new UntypedFormControl(elem.min, [Validators.required, Validators.min(0)]),\n          max: new UntypedFormControl(elem.max, [Validators.required, Validators.min(0)])\n        }, { validators: minBiggerThanMaxValidator })\n      );\n\n    }\n    //console.log(this.dataSource);\n  }\n\n\n  ngOnInit(): void {\n  }\n\n  cancel(): void {\n    this.dialogRef.close();\n  }\n\n  apply(): void {\n    let results: GenerateRange[] = []\n\n    this.numbers.controls.forEach(element => {\n      results.push({\n        min: +element.value.min,\n        max: +element.value.max\n      });\n    });\n\n    console.log(results)\n    this.dialogRef.close(results);\n  }\n\n  setRanges(): void {\n\n  }\n\n  minBiggerThanMaxTest(i: number): boolean {\n    return this.numbers.controls[i].errors?.minBiggerThanMax;  \n  }\n}\n\n/** A hero's name can't match the hero's alter ego */\nexport const minBiggerThanMaxValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n  //console.log(control);\n  const min: number = +control.get('min').value;\n  const max: number = +control.get('max').value;\n  //console.log(`min ${min} max ${max}`);\n\n  return min > max ? { 'minBiggerThanMax': true } : null;\n};\n\nexport class ParentErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: UntypedFormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n      const isSubmitted = !!(form && form.submitted);\n      const controlTouched = !!(control && (control.dirty || control.touched));\n      const controlInvalid = !!(control && control.invalid);\n      const parentInvalid = !!(control && control.parent && control.parent.invalid && (control.parent.dirty || control.parent.touched));\n\n      return isSubmitted || (controlTouched && (controlInvalid || parentInvalid));\n  }\n}","<h1 mat-dialog-title>Hi Hello</h1>\n<div mat-dialog-content>\n    <p>Number of numbers: {{config.nbNumbers}}</p>\n\n\n    <form [formGroup]=\"equationRangeForm\">\n        <table mat-table [dataSource]=\"numbers.controls\" formArrayName=\"numbers\">\n\n            <!--- Note that these columns can be defined in any order.\n          The actual rendered columns are set as a property on the row definition\" -->\n\n            <!-- Position Column -->\n            <ng-container matColumnDef=\"position\">\n                <th mat-header-cell *matHeaderCellDef> Position </th>\n                <td mat-cell *matCellDef=\"let i = index\"> {{i + 1}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"min\">\n                <th mat-header-cell *matHeaderCellDef> Min Value </th>\n                <td mat-cell *matCellDef=\"let element; let i = index\" [formGroupName]='i'>\n                    <mat-form-field appearance=\"outline\">\n                        <input matInput type=\"text\" formControlName=\"min\" placeholder=\"min value\" [errorStateMatcher]=\"parentErrorStateMatcher\">\n                        <mat-error *ngIf=\"numbers.controls[i].getError('required', 'min')\">\n                            Min value is <strong>required</strong>\n                        </mat-error>\n                        <mat-error *ngIf=\"numbers.controls[i].getError('min', 'min')\">\n                            Min value shall be greatter than <strong>0</strong>\n                        </mat-error>\n                        <mat-error *ngIf=\"minBiggerThanMaxTest(i)\">\n                            Min shall be smaller than Max\n                        </mat-error>\n                    </mat-form-field>\n                </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"max\">\n                <th mat-header-cell *matHeaderCellDef> Max Value </th>\n                <td mat-cell *matCellDef=\"let element; let i = index\" [formGroupName]='i'>\n                    <mat-form-field appearance=\"outline\">\n                        <input matInput type=\"text\" formControlName=\"max\" placeholder=\"max value\" [errorStateMatcher]=\"parentErrorStateMatcher\">\n                        <mat-error *ngIf=\"numbers.controls[i].getError('required', 'max')\">\n                            Max value is <strong>required</strong>\n                        </mat-error>\n                        <mat-error *ngIf=\"numbers.controls[i].getError('min', 'max')\">\n                            Max value shall be greatter than <strong>0</strong>\n                        </mat-error>\n                        <mat-error *ngIf=\"minBiggerThanMaxTest(i)\">\n                            Max shall be bigger than Min\n                        </mat-error>\n                    </mat-form-field>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n        </table>\n    </form>\n    <!-- <div> Valid: {{ equationRangeForm.valid ? '👍' : '👎' }} </div> -->\n</div>\n\n<div mat-dialog-actions>\n    <button mat-raised-button (click)=\"cancel()\">Cancel</button>\n    <button mat-raised-button color=\"primary\" (click)=\"apply()\" cdkFocusInitial [disabled]=\"!equationRangeForm.valid\">Apply</button>\n</div>","import { Component, OnInit, Inject } from '@angular/core'\nimport {\n  MatDialog,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material/dialog'\nimport {\n  Config,\n  EquationOrientation,\n  EquationOrientations\n} from '../services/config'\nimport { MATHProplemActions } from '../math-generator/mathProblemTypes'\nimport {\n  UntypedFormControl,\n  UntypedFormGroup,\n  Validators\n} from '@angular/forms'\nimport { ConfigDialogRangesComponent } from '../config-dialog-ranges/config-dialog-ranges.component'\n\n@Component({\n  selector: 'app-config-dialog',\n  templateUrl: './config-dialog.component.html',\n  styleUrls: ['./config-dialog.component.scss']\n})\nexport class ConfigDialogComponent implements OnInit {\n  mathProplemActions: any\n  mathProplemActionsKeys: string[]\n  config: Config\n  equationOrientations: EquationOrientation[] = EquationOrientations\n  configForm: UntypedFormGroup\n\n  constructor (\n    public dialogRef: MatDialogRef<ConfigDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: Config,\n    public dialog: MatDialog\n  ) {\n    this.mathProplemActions = MATHProplemActions\n    this.mathProplemActionsKeys = Object.keys(MATHProplemActions)\n    console.log('data')\n\n    console.log(data)\n\n    this.config = { ...data }\n\n    this.configForm = new UntypedFormGroup({\n      nbNumbers: new UntypedFormControl(this.config.nbNumbers, [\n        Validators.required,\n        Validators.min(2)\n      ]),\n      nbProblems: new UntypedFormControl(this.config.nbQuestions, [\n        Validators.required,\n        Validators.min(1)\n      ]),\n      realTimeValidation: new UntypedFormControl(\n        this.config.realTimeValidation,\n        []\n      ),\n      orientation: new UntypedFormControl(this.config.orientation, [])\n    })\n  }\n\n  ngOnInit (): void {}\n\n  cancel (): void {\n    this.dialogRef.close()\n  }\n\n  apply (): void {\n    Object.assign(this.config, this.configForm.value)\n\n    console.log('result')\n    console.log(this.config)\n    console.log(JSON.stringify(this.config))\n    console.log(JSON.stringify([1, 3, 4, 5]))\n    console.log(\n      JSON.stringify([{ name: 'asdf' }, { name: 'asdf' }, { name: 'asdf' }])\n    )\n\n    this.dialogRef.close(this.config)\n  }\n\n  setRanges (): void {\n    const dialogRef = this.dialog.open(ConfigDialogRangesComponent, {\n      width: '500px',\n      data: this.config\n    })\n\n    //TODO check the subscription unsubscribe\n    dialogRef.afterClosed().subscribe(results => {\n      console.log('The dialog was closed')\n      console.log(results)\n\n      if (results) {\n        this.config.generateRange = results\n      }\n    })\n  }\n\n  testpizza (val: any): boolean {\n    console.log(val.errors)\n    return true\n  }\n}\n","<h1 mat-dialog-title>Hi Hello</h1>\n<div mat-dialog-content>\n  <form [formGroup]=\"configForm\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Number of numbers:</mat-label>\n      <input matInput class=\"form-control\" type='number'  formControlName=\"nbNumbers\" />\n      <mat-error *ngIf=\"configForm.get('nbNumbers').errors?.required\">\n        The value is <strong>required</strong>\n      </mat-error>\n      <mat-error *ngIf=\"configForm.get('nbNumbers').errors?.min\">\n        The value shall be greater or equals to <strong>2</strong>\n      </mat-error>\n    </mat-form-field>\n    &nbsp;\n    <button mat-raised-button (click)=\"setRanges()\" color=\"accent\">Set ranges</button>\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Number of problems:</mat-label>\n      <input matInput class=\"form-control\" type='number'  formControlName=\"nbProblems\" />\n      <mat-error *ngIf=\"configForm.get('nbProblems').errors?.required\">\n        The value is <strong>required</strong>\n      </mat-error>\n      <mat-error *ngIf=\"configForm.get('nbProblems').errors?.min\">\n        The value shall be greater or equals to <strong>1</strong>\n      </mat-error>\n    </mat-form-field>\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Math problem Type:</mat-label>\n      <mat-select formControlName=\"mathProblemTypes\">\n        <mat-option *ngFor=\"let mpt of mathProplemActionsKeys\" [value]=\"mpt\">\n          {{mathProplemActions[mpt].name}} <strong>{{mathProplemActions[mpt].op}} </strong>\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </form>\n</div>\n\n<div mat-dialog-actions>\n  <button mat-raised-button (click)=\"cancel()\">Cancel</button>\n  <button mat-raised-button color=\"primary\" (click)=\"apply()\" cdkFocusInitial [disabled]=\"!configForm.valid\">Apply</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormControl, UntypedFormArray, Validators } from '@angular/forms'\n\n@Component({\n  selector: 'app-form-panel',\n  templateUrl: './form-panel.component.html',\n  styleUrls: ['./form-panel.component.scss']\n})\nexport class FormPanelComponent implements OnInit {\n\n  dataSource = [\n    { id: 1, name: \"malik\", level: 3242 },\n    { id: 2, name: \"moldav\", level: 689 },\n    { id: 4, name: \"mortich\", level: 1234 },\n    { id: 2, name: \"Hydrogen\", level: 1234 },\n    { id: 5, name: \"mortich\", level: 9994 },\n    { id: 123, name: \"Boron\", level: 1797 },\n  ];\n\n  displayedColumns: string[] = ['id', 'name', 'level'];\n\n  \n  user = new UntypedFormGroup({\n    name: new UntypedFormControl('tata'),\n    skills: new UntypedFormArray([\n\n    ])\n  });\n\n  constructor() {\n  \n    this.dataSource.forEach(element => {\n      this.skills.push(\n        new UntypedFormGroup({\n          name: new UntypedFormControl(element.name, Validators.required),\n          level: new UntypedFormControl(element.level, [Validators.required, Validators.min(2)])\n        })\n      );\n    });\n\n  }\n\n  ngOnInit(): void {\n    console.log(this.user.get(\"name\").value);\n    console.log(this.user.get(\"skills\").value);\n    console.log(this.user.get(\"skills[0]\")?.value);\n    console.log(this.user.get(\"skills.0\")?.value);\n    console.log(this.user.get(\"skills[0].name\")?.value);\n    console.log(this.user.get(\"skills.0.name\")?.value);\n\n\n    const group0 : UntypedFormGroup = this.user.get(\"skills.0\") as UntypedFormGroup\n    console.log(group0.get(\"name\")?.value);\n\n\n\n  }\n\n  get skills() {\n    return this.user.get('skills') as UntypedFormArray;\n  }\n\n  pizza(i : number) : boolean {\n    return this.skills.getError('required', ''+ i + '.level')\n  }\n\n\n}\n","<p>form-panel works!</p>\n<!--<form [formGroup]=\"user\">\n    <input formControlName=\"name\" />\n    <ng-container formArrayName=\"skills\">\n        <div *ngFor=\"let _ of skills.controls; index as i\">\n            <ng-container [formGroupName]=\"i\">\n                <label for=\"{{'name_' + i}}\">name</label>\n                <input id=\"{{'name_' + i}}\" name=\"{{'name_' + i}}\" formControlName=\"name\" />\n                <label for=\"{{'level_' + i}}\">level</label>\n                <input name=\"{{'level_' + i}}\" id=\"{{'level_' + i}}\" formControlName=\"level\" />\n            </ng-container>\n        </div>\n    </ng-container>\n</form>-->\n<form [formGroup]=\"user\">\n\n    <table mat-table [dataSource]=\"skills.controls\"  formArrayName=\"skills\">\n\n        <ng-container matColumnDef=\"id\">\n            <th mat-header-cell *matHeaderCellDef> Equation number </th>\n            <td mat-cell *matCellDef=\"let element; let i = index\"> {{dataSource[i].id}} </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"name\">\n            <th mat-header-cell *matHeaderCellDef> Name </th>\n            <td mat-cell *matCellDef=\"let element; let i = index\" [formGroupName]='i'>\n                <mat-form-field>\n                    <input matInput type=\"text\" formControlName=\"name\" placeholder=\"name\">\n                </mat-form-field>\n            </td>\n\n        </ng-container>\n\n        <ng-container matColumnDef=\"level\">\n            <th mat-header-cell *matHeaderCellDef> Level </th>\n            <td mat-cell *matCellDef=\"let element; let i = index; let fg = formGroup\" [formGroupName]='i'>\n                <mat-form-field>\n                    <input matInput  type=\"text\" formControlName=\"level\" placeholder=\"level\">\n                    <mat-error *ngIf=\"skills.controls[i].getError('required', 'level')\">\n                        Max value is <strong>required</strong>\n                    </mat-error>\n                    <mat-error *ngIf=\"skills.controls[i].getError('min', 'level')\">\n                        Min value is <strong>2</strong>\n                    </mat-error>\n                </mat-form-field>\n            </td>\n        </ng-container>\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns; let i=index\"></tr>\n    </table>\n</form> \n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-main-buttons',\n  templateUrl: './main-buttons.component.html',\n  styleUrls: ['./main-buttons.component.scss']\n})\nexport class MainButtonsComponent implements OnInit {\n\n  @Input() nbQuestions: number\n  @Input() disableButton: boolean\n  @Output() pushButtonEvent = new EventEmitter<ButtonPushed>();\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n  }\n\n  goToProblems() {\n    this.pushButtonEvent.emit(\n      {\n        status: ButtonPushedStatus.TO_PROBLEMS,\n        nbQuestions: this.nbQuestions\n      })\n  }\n\n  goToWorkout() {\n    this.pushButtonEvent.emit(\n      {\n        status: ButtonPushedStatus.TO_WORKOUT,\n        nbQuestions: this.nbQuestions\n      })\n  }\n\n  clear() {\n    this.pushButtonEvent.emit(\n      {\n        status: ButtonPushedStatus.CLEAR,\n        nbQuestions: this.nbQuestions\n      })\n  }\n}\n\nexport interface ButtonPushed {\n  status: ButtonPushedStatus;\n  nbQuestions: number;\n}\n\nexport enum ButtonPushedStatus {\n  TO_PROBLEMS,\n  TO_WORKOUT,\n  CLEAR\n}","<mat-form-field appearance=\"outline\">\n    <mat-label i18n=\"@@Number of questions\">Number of questions</mat-label>\n    <input matInput type=\"number\" [(ngModel)]=\"nbQuestions\">\n</mat-form-field>\n<span class=\"space\"></span>\n<button mat-raised-button color=\"accent\" (click)=\"goToProblems()\" [disabled]=\"disableButton\"\n    i18n=\"open the worksheet@@math_worksheet\">Math Worksheet</button>\n<span class=\"space\"></span>\n<button mat-raised-button color=\"accent\" (click)=\"goToWorkout()\" [disabled]=\"disableButton\"\n    i18n=\"to a workout training@@Workout\">One by one</button>\n<span class=\"space\"></span>\n<button mat-raised-button (click)=\"clear()\" i18n=\"@@clearAll\">Clear all</button>","import { Component, OnInit } from '@angular/core';\n\n\nconst TAB_INDEX_KEY = \"TAB_INDEX_KEY\"; \n@Component({\n  selector: 'app-main-page',\n  templateUrl: './main-page.component.html',\n  styleUrls: ['./main-page.component.scss']\n})\nexport class MainPageComponent implements OnInit {\n\n  selectedTabIndex : number = null;\n  \n  constructor() {\n\n  }\n\n  ngOnInit(): void {\n    let tabIndex = localStorage.getItem(TAB_INDEX_KEY);\n    this.selectedTabIndex = parseInt(tabIndex);\n  }\n \n  selectedTabIndexChange(index : number) {\n    localStorage.setItem(TAB_INDEX_KEY, index.toString());\n    this.selectedTabIndex = index;\n  }\n}\n","<mat-tab-group [selectedIndex]=\"selectedTabIndex\" (selectedIndexChange)=\"selectedTabIndexChange($event)\">\n    <mat-tab  i18n-label=\"@@tabPrograms\" label=\"Programs\">\n        <app-main-tabs-programs></app-main-tabs-programs>\n    </mat-tab>\n    <mat-tab i18n-label=\"@@tabSeries\" label=\"Series\">\n        <app-main-tabs-series></app-main-tabs-series>\n    </mat-tab>\n</mat-tab-group>","import {\n  Component,\n  OnInit,\n  ViewChildren,\n  QueryList,\n} from '@angular/core'\nimport { Router } from '@angular/router'\nimport { WorksheetsMap } from '../../math-generator/worksheetsMap'\nimport { MathProblemTypes } from '../../math-generator/mathProblemTypes'\nimport { ConfigService, ConfigServiceInfo } from '../../services/config.service'\nimport { Config } from '../../services/config'\nimport { Subscription } from 'rxjs'\nimport { MatCheckbox } from '@angular/material/checkbox'\nimport { WorksheetsItem } from '../../math-generator/worksheetsDefinitions'\nimport {\n  ButtonPushed,\n  ButtonPushedStatus\n} from '../main-buttons/main-buttons.component'\nimport {\n  MATHProplemActions,\n  MathProblemTypesMap,\n  MathProblemTypesData\n} from '../../math-generator/mathProblemTypes'\n\nexport interface WorksheetsItemPerOperation {\n  exercises: WorksheetsItem[]\n  mathProblemTypesData: MathProblemTypesData\n}\n\n@Component({\n  selector: 'app-main-tabs-programs',\n  templateUrl: './main-tabs-programs.component.html',\n  styleUrls: ['./main-tabs-programs.component.scss']\n})\nexport class MainTabsProgramsComponent implements OnInit {\n  exercises: WorksheetsItem[]\n  worksheetsItemPerOperations: WorksheetsItemPerOperation[] = []\n  private worksheetsItems: Map<string, WorksheetsItem> = new Map()\n  config: Config\n  private myEventSubscriptions: Subscription[] = []\n  @ViewChildren(MatCheckbox) checkboxes: QueryList<MatCheckbox>\n  selectedTabIndex: number = null\n  problemTypes: MathProblemTypes[] = null\n  mathProblemTypesMap: MathProblemTypesMap = MATHProplemActions\n  removable = true\n  selectable = true\n\n  constructor (private router: Router, private configService: ConfigService) {\n    this.exercises = WorksheetsMap.getWorksheetsItem()\n\n    let exercicesPerOP: Map<\n      MathProblemTypes,\n      WorksheetsItemPerOperation\n    > = new Map()\n    //Fill map\n    Object.values(MATHProplemActions).forEach(x =>\n      exercicesPerOP.set(x.code, {\n        exercises: [],\n        mathProblemTypesData: x\n      })\n    )\n\n    this.exercises.forEach((x: WorksheetsItem) => {\n      let a: WorksheetsItemPerOperation = exercicesPerOP.get(x.mathProblemType)\n      a.exercises.push(x)\n    })\n\n    //clean empty\n    exercicesPerOP.forEach(\n      (v: WorksheetsItemPerOperation, k: MathProblemTypes) => {\n        if (v.exercises.length != 0) {\n          this.worksheetsItemPerOperations.push(v)\n        }\n      }\n    )\n  }\n\n  ngOnInit (): void {\n    this.myEventSubscriptions.push(\n      this.configService.subscribe((cfi: ConfigServiceInfo) => {\n        this.config = cfi.config\n        this.config.generators.forEach(worksheetsItem => {\n          if (WorksheetsMap.has(worksheetsItem.code)) {\n            this.fillMap(true, worksheetsItem)\n          }\n        })\n      })\n    )\n  }\n\n  ngOnDestroy (): void {\n    this.myEventSubscriptions.forEach(subscription =>\n      subscription.unsubscribe()\n    )\n    this.myEventSubscriptions = []\n    console.log('DEStroy !!!!!!!!!!!!')\n  }\n\n  setUpConfig () {\n    let generators: WorksheetsItem[] = new Array(this.worksheetsItems.size)\n\n    let i = 0\n    this.worksheetsItems.forEach((value: WorksheetsItem) => {\n      generators[i++] = value\n    })\n\n    this.config.generators = generators\n    console.warn(this.config.generators)\n    this.configService.next(this.config, true)\n  }\n\n  getAdditions (): WorksheetsItem[] {\n    console.log('getAdditions')\n    return this.exercises\n  }\n\n  filterOperation (a: any, b: MathProblemTypesData) {\n    return a.mathProblemType === b.code\n  }\n\n  checkboxChange (checked: boolean, item: WorksheetsItem) {\n    console.log(checked)\n    console.log(item)\n\n    this.fillMap(checked, item)\n  }\n\n  private fillMap (checked: boolean, item: WorksheetsItem) {\n    if (checked) {\n      this.worksheetsItems.set(item.code, item)\n    } else {\n      this.worksheetsItems.delete(item.code)\n    }\n    console.log(this.worksheetsItems)\n  }\n\n  unCheckAll () {\n    this.checkboxes.forEach(element => {\n      element.checked = false\n    })\n    this.worksheetsItems.clear()\n  }\n\n  isSelected (worksheetsItem: WorksheetsItem): boolean {\n    let selected = this.worksheetsItems.has(worksheetsItem.code)\n    return selected\n  }\n\n  pushedButton (buttonPushed: ButtonPushed) {\n    switch (buttonPushed.status) {\n      case ButtonPushedStatus.TO_PROBLEMS:\n        this.config.nbQuestions = buttonPushed.nbQuestions\n        this.setUpConfig()\n        this.router.navigate(['/problems'])\n        break\n      case ButtonPushedStatus.TO_WORKOUT:\n        this.config.nbQuestions = buttonPushed.nbQuestions\n        this.setUpConfig()\n        this.router.navigate(['/workout'])\n        break\n      case ButtonPushedStatus.CLEAR:\n        this.unCheckAll()\n        break\n    }\n  }\n\n  mathProplemActions (): MathProblemTypesData[] {\n    let val: MathProblemTypesData[] = Object.values(MATHProplemActions)\n    return val\n  }\n\n  operationToDisplay (): WorksheetsItemPerOperation[] {\n    if (!this.problemTypes) {\n      return this.worksheetsItemPerOperations\n    } else {\n      return this.worksheetsItemPerOperations.filter(x =>\n        this.problemTypes.includes(x.mathProblemTypesData.code)\n      )\n    }\n  }\n\n  remove (problemType: MathProblemTypes): void {\n    console.log('remove chip : ' + problemType)\n  }\n}\n","<section>\n    <mat-form-field appearance=\"fill\">\n        <mat-label>Operator</mat-label>\n        <mat-select [(value)]=\"problemTypes\" multiple>\n            <mat-option *ngFor=\"let mpt of mathProplemActions()\" value=\"{{mpt.code}}\">\n                {{mpt.name}}\n            </mat-option>\n        </mat-select>\n    </mat-form-field>\n<div class=\"operation-chip-list\">\n    <mat-chip-listbox aria-label=\"operations\" class=\"operation-chip-list\">\n        <mat-chip-option *ngFor=\"let problemType of problemTypes\" [selectable]=\"selectable\"\n                 [removable]=\"removable\" (removed)=\"remove(problemType)\">\n          {{mathProblemTypesMap[problemType].name}}\n          <mat-icon matChipRemove *ngIf=\"removable\">cancel</mat-icon>\n        </mat-chip-option>\n      </mat-chip-listbox>\n</div>      \n</section>\n\n<section *ngFor=\"let worksheetsItemPerOperation of operationToDisplay()\">\n    <h1 class=\"sectionHeader\">{{worksheetsItemPerOperation.mathProblemTypesData.name}}</h1>\n    <ul>\n        <li *ngFor=\"let worksheetsItem of worksheetsItemPerOperation.exercises\">\n            <mat-checkbox [checked]=\"isSelected(worksheetsItem)\"\n                (change)=\"checkboxChange($event.checked, worksheetsItem)\">\n                {{worksheetsItem.label}}</mat-checkbox>\n        </li>\n    </ul>  \n</section>\n\n<app-main-buttons [nbQuestions]=\"config.nbQuestions\" (pushButtonEvent)=\"pushedButton($event)\"></app-main-buttons>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { WorksheetsItem, MultiParam } from '../../math-generator/worksheetsDefinitions';\nimport { Worksheets2 } from '../../math-generator/worksheets2'\nimport { ConfigService, ConfigServiceInfo } from '../../services/config.service'\nimport { Config } from '../../services/config';\nimport { Subscription } from 'rxjs';\nimport { MathProblemTypes, MathProblemTypesData } from '../../math-generator/mathProblemTypes';\nimport { MATHProplemActions } from '../../math-generator/mathProblemTypes'\nimport { ButtonPushed, ButtonPushedStatus } from '../main-buttons/main-buttons.component'\nimport { UntypedFormControl, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { RangeManager, Range } from '../../math-generator/rangeManager';\n\n@Component({\n  selector: 'app-main-tabs-series',\n  templateUrl: './main-tabs-series.component.html',\n  styleUrls: ['./main-tabs-series.component.scss']\n})\nexport class MainTabsSeriesComponent implements OnInit {\n  tables: number[]\n  config: Config;\n  private myEventSubscriptions: Subscription[] = [];\n\n  numberForControl1: UntypedFormControl;\n  numberForControl2: UntypedFormControl;\n\n  params: MultiParam = {\n    problemTypes: MathProblemTypes.MULTIPLICATION,\n    numbers1: \"2\",\n    numbers2: \"1 - 12\",\n    shuffle: false,\n  }\n\n  constructor(private router: Router, private configService: ConfigService) {\n\n    let start = 1;\n    let end = 12;\n\n    this.tables = Array(end - start + 1).fill(null).map((_, idx: number) => start + idx)\n\n    let vdator = [\n      Validators.required, Validators.pattern(/^(\\s*-?\\d+\\s*\\-\\s*-?\\d+\\s*,?|\\s*-?\\d+\\s*,?)+$/)\n    ]\n\n    this.numberForControl1 = new UntypedFormControl('', vdator);\n    this.numberForControl2 = new UntypedFormControl('', vdator);\n  }\n\n  ngOnInit(): void {\n    this.myEventSubscriptions.push(this.configService.subscribe(\n      (cfi: ConfigServiceInfo) => {\n        this.config = { ...cfi.config };\n        this.config.generators.forEach(worksheetsItem => {\n          this.fillPageData(worksheetsItem);\n        });\n      }\n    ));\n    this.clear()\n  }\n\n  fillPageData(worksheetsItem: WorksheetsItem) {\n    if (worksheetsItem.func == Worksheets2.multiplicationTable) {\n\n      if (worksheetsItem?.parameters) {\n\n        this.params = Object.assign(this.params, worksheetsItem.parameters)\n        this.numberForControl1.setValue(this.params.numbers1);\n        this.numberForControl2.setValue(this.params.numbers2);\n      }\n    }\n  }\n\n  clear() {\n    this.numberForControl1.setValue(\"\");\n    this.numberForControl2.setValue(\"\");\n  }\n\n  toDisable(): boolean {\n    return false //go to regex\n  }\n\n  setUpConfig(): void {\n    let generators: WorksheetsItem[] = new Array(1);\n\n    console.warn(this.params.numbers1)\n\n    //console.warn(this.params.numbers)\n\n    this.params.numbers1 = RangeManager.toString(RangeManager.rangeParser(this.numberForControl1.value, true))\n    this.params.numbers2 = RangeManager.toString(RangeManager.rangeParser(this.numberForControl2.value, true))\n\n\n    let wi: WorksheetsItem = {\n      label: \"no\",\n      func: Worksheets2.multiplicationTable,\n      code: \"MultiSeries1\",\n      funcName: Worksheets2.multiplicationTable.name,\n      grade: 3,\n      mathProblemType: MathProblemTypes.MULTIPLICATION,\n      parameters: { ...this.params }\n    };\n\n    generators[0] = wi;\n    this.config.generators = generators\n\n    this.configService.next(this.config, true)\n  }\n\n  isDisabled(): boolean {\n    //console.log(`ISNSA '${this.params.numbers[0]}' ${isNaN(this.params.numbers[0])}`)\n    return this.numberForControl1.valid == false || this.numberForControl2.valid == false || this.params.problemTypes == null\n  }\n\n  mathProplemActions(): MathProblemTypesData[] {\n    let val: MathProblemTypesData[] = Object.values(MATHProplemActions);\n    return val;\n  }\n\n  pushedButton(buttonPushed: ButtonPushed) {\n    switch (buttonPushed.status) {\n      case ButtonPushedStatus.TO_PROBLEMS:\n        this.config.nbQuestions = buttonPushed.nbQuestions\n        this.setUpConfig();\n        this.router.navigate(['/problems']);\n        break;\n      case ButtonPushedStatus.TO_WORKOUT:\n        this.config.nbQuestions = buttonPushed.nbQuestions\n        this.setUpConfig();\n        this.router.navigate(['/workout']);\n        break;\n      case ButtonPushedStatus.CLEAR:\n        this.clear();\n        break;\n    }\n  }\n}","<app-main-buttons [nbQuestions]=\"config.nbQuestions\" [disableButton]=\"isDisabled()\"\n    (pushButtonEvent)=\"pushedButton($event)\"></app-main-buttons>\n\n<h1 i18n=\"@@customConfig\">Custom configuration</h1>\n<!--\n<mat-button-toggle-group [(value)]=\"params.problemTypes\">\n    <mat-button-toggle *ngFor=\"let mpt of mathProplemActions()\" [value]=\"mpt.code\">\n        {{mpt.name}} <strong>{{mpt.operator}}</strong>\n    </mat-button-toggle>\n</mat-button-toggle-group>\n-->\n<!-- div class=\"numberSelect\">\n    <mat-form-field class=\"numbers\" appearance=\"outline\" *ngFor=\"let num of params.numbers;index as i\">\n        <mat-label>Num {{i}}</mat-label>\n        <input matInput type=\"number\" placeholder=\"number\" [(ngModel)]=\"params.numbers[i]\">\n    </mat-form-field>\n    <button mat-button (click)=\"clear()\" [disabled]=\"toDisable()\">Clear</button>\n    <button mat-button (click)=\"addNumber()\">\n        <mat-icon>add_circle</mat-icon>\n        Add Number\n    </button>\n</div -->\n<section>\n    <mat-form-field appearance=\"fill\">\n        <mat-label>Operator</mat-label>\n        <mat-select [(value)]=\"params.problemTypes\">\n            <mat-option *ngFor=\"let mpt of mathProplemActions()\" value=\"{{mpt.code}}\">\n                {{mpt.name}} <strong>{{mpt.operator}}</strong>\n            </mat-option>\n        </mat-select>\n    </mat-form-field>\n</section>\n<section>\n    <mat-form-field>\n        <mat-label i18n=\"@@Number 1\">Numbers 1</mat-label>\n        <input matInput type=\"text\" placeholder=\"range\" [formControl]=\"numberForControl1\">\n        <mat-error *ngIf=\"numberForControl1.hasError('required')\" i18n=\"@@Field_required\">Field is\n            <strong>required</strong></mat-error>\n        <mat-error *ngIf=\"numberForControl1.hasError('pattern')\" i18n=\"@@Field_hint\">Should be 2, or 1-3</mat-error>\n        <mat-hint>format: 1, 3, 6-12</mat-hint>\n    </mat-form-field>\n\n    <mat-form-field>\n        <mat-label i18n=\"@@Number 2\">Numbers 2</mat-label>\n        <input matInput type=\"text\" placeholder=\"range\" [formControl]=\"numberForControl2\">\n        <mat-error *ngIf=\"numberForControl2.hasError('required')\" i18n=\"@@Field_required\">Field is\n            <strong>required</strong></mat-error>\n        <mat-error *ngIf=\"numberForControl2.hasError('pattern')\" i18n=\"@@Field_hint\">Should be 2, or 1-3</mat-error>\n        <mat-hint>format: 1, 3, 6-12</mat-hint>\n    </mat-form-field>\n</section>\n\n<br>\n<mat-checkbox [(ngModel)]=\"params.shuffle\" i18n=\"@@Shuffle\">Shuffle</mat-checkbox>\n<br>\n<br>\n<app-main-buttons [nbQuestions]=\"config.nbQuestions\" [disableButton]=\"isDisabled()\"\n    (pushButtonEvent)=\"pushedButton($event)\"></app-main-buttons>","import { Config } from '../services/config'\nimport { MathProblemTypes, GenerateRange, Answer, MATHProplemActions } from './mathProblemTypes';\nimport { MathProblem } from './mathProblem';\nimport { WorksheetsMap } from './worksheetsMap';\nimport { WorksheetsItem } from './worksheetsDefinitions'\nimport { Range, RangeManager } from './rangeManager'\n//import { Worksheets } from './worksheets';\n\nexport class MathGenerator {\n\n    static generateProblem(config: Config): MathProblem {\n        return MathGenerator.generateProblemNext(config, 0);\n    }\n\n    static generateProblemNext(config: Config, index: number): MathProblem {\n        //TODO Change this!!!!!!!!!!!!!!!\n        //console.log(\"//TODO Change this!!!!!!!!!!!!!!!\")\n\n        let it: Iterator<WorksheetsItem> = config.generators.values();\n\n        let itres: IteratorResult<WorksheetsItem> = it.next()\n        let idx = 0\n        let worksheetItem: WorksheetsItem = null;\n        while (!itres.done) {\n            worksheetItem = itres.value;\n            //console.log(mp.funcName)\n            if (++idx >= index) {\n                break;\n            }\n\n            itres = it.next()\n            if (itres.done) {\n                it = config.generators.values();\n                itres = it.next();\n                //console.log(itres.done)\n            }\n        }\n        console.log(worksheetItem)\n        if (worksheetItem == null) {\n            return MathGenerator.default();\n        }\n\n        return worksheetItem.func(worksheetItem);\n    }\n\n    static getListofRandomNumber(generateRange: GenerateRange[], mathProblemTypes: MathProblemTypes): MathProblem {\n        var values: number[] = []\n\n        var values: number[] = []\n        for (var i = 0; i < generateRange.length; i++) {\n            let rg: GenerateRange = generateRange[i];\n\n            let value = MathGenerator.getRandomIntInclusive(rg?.min, rg?.max)\n            values.push(value)\n        }\n\n        //Avoid negative for substraction\n        if (mathProblemTypes === MathProblemTypes.SUBTRACTION) {\n            console.log(values)\n            //Keep the result positive\n            values.sort((a, b) => b - a);\n            console.log(values)\n        }\n\n        return new MathProblem(mathProblemTypes, values);\n    }\n\n    static getRandomIntInclusive(min: number = 1, max: number = 10): number {\n        //min = Math.ceil(min);\n        //max = Math.floor(max);\n        let val = max - min + 1\n        return Math.floor(Math.random() * val) + min; //The maximum is inclusive and the minimum is inclusive \n    }\n\n    static toArray(a: number, b: number): number[] {\n        return [a, b];\n    }\n\n    static default(): MathProblem {\n\n        let generateRange: GenerateRange[] = [\n            { min: 1, max: 1 },\n            { min: 1, max: 1 }\n        ];\n\n        return MathGenerator.getListofRandomNumber(generateRange, MathProblemTypes.ADDITION);\n    }\n\n    static getSeries(type: MathProblemTypes, numbers1: Range[], numbers2: Range[], shuffle: boolean = false): MathProblem[] {\n\n        let size = RangeManager.getSize(numbers1) * RangeManager.getSize(numbers2)\n        let list: MathProblem[] = new Array(size);\n\n        let invert: boolean = false\n        switch (type) {\n            case MathProblemTypes.SUBTRACTION:\n            case MathProblemTypes.DIVISION:\n                type = MATHProplemActions[type].invert\n                invert = true;\n                break;\n        }\n\n        let i = 0\n\n        for (let range2 of numbers2) {\n            for (let number2 = range2.start; number2 <= range2.end; number2++) {\n                for (let range1 of numbers1) {\n                    for (let number1 = range1.start; number1 <= range1.end; number1++) {\n                        let mathProblem: MathProblem;\n\n                        if (invert) {\n                            mathProblem = new MathProblem(type, [number1, number2]).getInvert();\n                        } else {\n                            mathProblem = new MathProblem(type, [number1, number2]);\n                        }\n\n                        list[i++] = mathProblem;\n                    }\n                }\n            }\n        }\n\n\n        if (shuffle) {\n            list = MathProblem.shuffle(list);\n        }\n\n        return list;\n    }\n\n    static getSeries2(type: MathProblemTypes, numbers: number[], start: number, end: number, shuffle: boolean = false): MathProblem[] {\n\n        let size = (end - start + 1) * numbers.length;\n        let list: MathProblem[] = new Array(size);\n\n        let invert: boolean = false\n        switch (type) {\n            case MathProblemTypes.SUBTRACTION:\n            case MathProblemTypes.DIVISION:\n                type = MATHProplemActions[type].invert\n                invert = true;\n                break;\n        }\n\n        let number2 = start;\n        for (let i = 0; i < size; i) {\n            for (let number of numbers) {\n\n                let mathProblem: MathProblem;\n\n                if (invert) {\n                    mathProblem = new MathProblem(type, [number2, number]).getInvert();\n                } else {\n                    mathProblem = new MathProblem(type, [number, number2]);\n                }\n\n\n                list[i++] = mathProblem;\n            }\n            number2++;\n        }\n\n        if (shuffle) {\n            list = MathProblem.shuffle(list);\n        }\n\n        return list;\n    }\n}","import { Expression } from '@angular/compiler';\r\nimport { MathProblemTypes, GenerateRange, Answer, MathProblemTypesData, MATHProplemActions } from './mathProblemTypes';\r\n//import { MathGenerator } from './mathGenerator';\r\n\r\nexport class MathProblem {\r\n\r\n    questionStr: String;\r\n    values: number[];\r\n    mathProplemActions: MathProblemTypesData;\r\n    private _answer: number;\r\n\r\n    constructor(mathProblemType: MathProblemTypes, values: number[], answer: number = null) {\r\n        this.values = values;\r\n        this.questionStr = null;\r\n        this._answer = answer;\r\n        this.mathProplemActions = MATHProplemActions[mathProblemType]\r\n    }\r\n\r\n    get answer(): number {\r\n        if (this._answer == null) {\r\n            this._answer = this.mathProplemActions.opFunc(this.values);\r\n        }\r\n        return this._answer;\r\n    }\r\n\r\n    get question() {\r\n        if (this.questionStr == null) {\r\n            let q = \"\"\r\n            let first = true;\r\n            for (let index = 0; index < this.values.length; ++index) {\r\n                if (!first) {\r\n                    q += \" \" + this.mathProplemActions.operator + \" \";\r\n                } else {\r\n                    first = false;\r\n                }\r\n                q += this.values[index]\r\n            }\r\n            q += ' = '\r\n            this.questionStr = q;\r\n        }\r\n\r\n        return this.questionStr;\r\n    }\r\n\r\n    shuffle(): void {\r\n        this.values = MathProblem.shuffle(this.values);\r\n    }\r\n\r\n    orderAssending(): void {\r\n        this.values.sort((a, b) => a - b);\r\n    }\r\n\r\n    orderDescending(): void {\r\n        this.values.sort((a, b) => b - a);\r\n    }\r\n\r\n    static shuffle(array: any[]) : any[] {\r\n        let currentIndex: number = array.length\r\n        let temporaryValue: number;\r\n        let randomIndex: number;\r\n\r\n        // While there remain elements to shuffle...\r\n        while (0 !== currentIndex) {\r\n\r\n            // Pick a remaining element...\r\n            randomIndex = Math.floor(Math.random() * currentIndex);\r\n            currentIndex -= 1;\r\n\r\n            // And swap it with the current element.\r\n            temporaryValue = array[currentIndex];\r\n            array[currentIndex] = array[randomIndex];\r\n            array[randomIndex] = temporaryValue;\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    getInvert(): MathProblem {\r\n        return MathProblem.getInvert(this);\r\n    }\r\n\r\n\r\n    static getInvert(mathProblem: MathProblem): MathProblem {\r\n        let answer: number = null;\r\n        let values: number[];\r\n\r\n        let mathProblemType: MathProblemTypes;\r\n\r\n\r\n        switch (mathProblem.mathProplemActions.code) {\r\n\r\n            case MathProblemTypes.ADDITION:\r\n                mathProblemType = MathProblemTypes.SUBTRACTION;\r\n                values = [mathProblem.answer, ...mathProblem.values.filter((v, index) => index !== 0)];\r\n                break;\r\n\r\n            case MathProblemTypes.SUBTRACTION:\r\n                mathProblemType = MathProblemTypes.ADDITION\r\n                values = [mathProblem.answer, ...mathProblem.values.filter((v, index) => index !== 0)];\r\n                break;\r\n\r\n            case MathProblemTypes.MULTIPLICATION:\r\n                mathProblemType = MathProblemTypes.DIVISION\r\n                values = [mathProblem.answer, ...mathProblem.values.filter((v, index) => index !== 0)];\r\n                break;\r\n\r\n            case MathProblemTypes.DIVISION:\r\n                mathProblemType = MathProblemTypes.MULTIPLICATION\r\n                values = [mathProblem.answer, ...mathProblem.values.filter((v, index) => index !== 0)];\r\n                break;\r\n            default:\r\n                console.error(`Wrong type ${mathProblem.mathProplemActions.code}`);\r\n        }\r\n\r\n        return new MathProblem(mathProblemType, values, answer);\r\n    }\r\n\r\n    get displaySize(): number {\r\n        return Math.max(...  this.values.map(x => x.toString().length))\r\n    }\r\n}","export enum MathProblemTypes {\r\n    ADDITION = \"ADDITION\",\r\n    SUBTRACTION = \"SUBTRACTION\",\r\n    MULTIPLICATION = \"MULTIPLICATION\",\r\n    DIVISION = \"DIVISION\"\r\n}\r\n/*\r\nexport namespace MathProblemTypes {\r\n\r\n    export function values() {\r\n        //console.log(Object.keys(MathProblemTypes));\r\n        return Object.keys(MathProblemTypes).filter(\r\n            (type) => isNaN(<any>type) && type !== 'values' && type !== 'getStr'\r\n        );\r\n    }\r\n\r\n    export function getStr(id: number) {\r\n        return Object.keys(MathProblemTypes)[id + 4]\r\n    }\r\n}\r\n*/\r\nexport interface MathProblemTypesData {\r\n    name: string;\r\n    code: MathProblemTypes;\r\n    operator: string;\r\n    opFunc: (value: number[]) => number;\r\n    invert: MathProblemTypes;\r\n}\r\n\r\n//export type MathProblemTypesKey = \"ADDITION\" | \"SUBTRACTION\" | \"MULTIPLICATION\" | \"DIVISION\";\r\n\r\nexport type MathProblemTypesMap = Record<MathProblemTypes, MathProblemTypesData>;\r\n\r\n\r\nexport const MATHProplemActions: MathProblemTypesMap = {\r\n    \"ADDITION\" : {\r\n        name: $localize`:@@Addition:Addition`,\r\n        code: MathProblemTypes.ADDITION,\r\n        operator: \"+\",\r\n        opFunc: (value: number[]) => {\r\n            return value.reduce((a, b) => a + b, 0);\r\n        },\r\n        invert : MathProblemTypes.SUBTRACTION\r\n    },\r\n    \"SUBTRACTION\": {\r\n        name: $localize`:@@Subtraction:Subtraction`,\r\n        code: MathProblemTypes.SUBTRACTION,\r\n        operator: \"-\",\r\n        opFunc: (value: number[]) => {\r\n            return value.reduce((total, num) => total - num);\r\n        },\r\n        invert : MathProblemTypes.ADDITION\r\n    },\r\n    \"MULTIPLICATION\": {\r\n        name: $localize`:@@Multiplication:Multiplication`,\r\n        code: MathProblemTypes.MULTIPLICATION,\r\n        operator: \"x\",\r\n        opFunc: (value: number[]) => {\r\n            return value.reduce((total, num) => total * num);\r\n        },\r\n        invert : MathProblemTypes.DIVISION\r\n    },\r\n    \"DIVISION\": {\r\n        name: $localize`:@@Division:Division`,\r\n        code: MathProblemTypes.DIVISION,\r\n        operator: \"÷\",\r\n        opFunc: (value: number[]) => {\r\n            return value.reduce((total, num) => total / num);\r\n        },\r\n        invert : MathProblemTypes.MULTIPLICATION\r\n    }\r\n}\r\n\r\nexport interface GenerateRange {\r\n    min: number;\r\n    max: number;\r\n}\r\n\r\nexport enum Relation {\r\n    LESS,\r\n    LESS_EQUALS,\r\n    EQUALS,\r\n    GREATER_EQUALS,\r\n    GREATER,\r\n    NOT_EQUALS\r\n}\r\n\r\nexport interface Answer {\r\n    min: number;\r\n    max: number;\r\n    relation: Relation;\r\n}\r\n\r\n","\r\nexport interface Range {\r\n    start: number;\r\n    end: number;\r\n}\r\n\r\nexport class RangeManager {\r\n\r\n    private constructor() {\r\n\r\n    }\r\n\r\n    static getNumbers(ranges: Range[]): number[] {\r\n        let result: number[] = [];\r\n\r\n\r\n        ranges.forEach(r => {\r\n\r\n            for (let i = r.start; i <= r.start; i++) {\r\n                result.push(i);\r\n            }\r\n        })\r\n\r\n        return result;\r\n    }\r\n\r\n    static rangeParser(str: string, combine: boolean): Range[] {\r\n\r\n        // split the range string\r\n        let arr: string[] = str.split(',')\r\n        let ranges: Range[] = []\r\n\r\n        // parse all ranges\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let range: string[] = arr[i].split('-')\r\n\r\n\r\n            let rangeNum: number[] = []\r\n            let k = 0;\r\n\r\n            let previousIsNaN = false\r\n            for (let j = 0; j < range.length; j++) {\r\n                let a = parseInt(range[j])\r\n\r\n                if (isNaN(a)) {\r\n                    previousIsNaN = true;\r\n                } else {\r\n                    rangeNum.push(previousIsNaN ? a * -1 : a)\r\n                    previousIsNaN = false;\r\n                }\r\n            }\r\n\r\n            if (rangeNum.length == 0) {\r\n                throw Error(`Malformed range '${arr[i]}'`)\r\n            }\r\n\r\n            let start = rangeNum[0]\r\n            let end = rangeNum.length > 1 ? rangeNum[1] : start\r\n\r\n            // -nnn\r\n            if (isNaN(start)) {\r\n                console.warn(`isNaN(start)`)\r\n            } else if (isNaN(end)) {\r\n                end = start\r\n            } else if (end < start) {\r\n                let tmp = end;\r\n                end = start\r\n                start = tmp\r\n            }\r\n\r\n            // add range\r\n            ranges.push({\r\n                start: start,\r\n                end: end\r\n            })\r\n        }\r\n\r\n        return combine\r\n            ? this.combineRanges(ranges)\r\n            : ranges\r\n    }\r\n\r\n    /**\r\n     * Combine overlapping & adjacent ranges.\r\n     * @private\r\n     */\r\n    static combineRanges(ranges: Range[]) {\r\n        let ordered: Range[] = ranges.sort((a: Range, b: Range) => {\r\n            return a.start - b.start\r\n        })\r\n\r\n        let range = ordered[0]\r\n        let combined: Range[] = [range]\r\n\r\n        for (let i = 1; i < ordered.length; i++) {\r\n\r\n            let current = ordered[i]\r\n\r\n            if (range.end + 1 >= current.start) {\r\n                range.end = current.end\r\n            } else {\r\n                range = current\r\n                combined.push(range)\r\n            }\r\n        }\r\n\r\n        return combined\r\n    }\r\n\r\n    static getSize(ranges : Range[]) : number {\r\n        let size = 0\r\n        ranges.forEach(r => size += (r.end + 1 - r.start))\r\n        return size;\r\n    }\r\n\r\n    static toString(ranges : Range[]) : string {\r\n        return ranges.map(r => {\r\n            if (r.start == r.end) {\r\n                return r.start.toString()\r\n            } else {\r\n                return `${r.start} - ${r.end}`\r\n            }\r\n        }).join(\", \")\r\n    }\r\n}\r\n","import { MathGenerator } from './mathGenerator';\nimport { MathProblem } from \"./mathProblem\";\nimport { GenerateRange, MathProblemTypes, Relation, Answer } from './mathProblemTypes';\n\nexport class Worksheets {\n    static [index: string]: any\n\n    static addSingleDigitNumber(): MathProblem {\n\n        let generateRange: GenerateRange[] = [\n            { min: 0, max: 10 },\n            { min: 1, max: 10 }\n        ];\n\n        return MathGenerator.getListofRandomNumber(generateRange, MathProblemTypes.ADDITION);\n    }\n\n    static testLongNum(): MathProblem {\n\n        let generateRange: GenerateRange[] = [\n            { min: 10000, max: 100000 },\n            { min: 10000, max: 100000 }\n        ];\n\n        return MathGenerator.getListofRandomNumber(generateRange, MathProblemTypes.ADDITION);\n\n    }\n\n    static addSingleDigitNumberNoCarry(): MathProblem {\n\n/*         let prog = {\n            answer: [{ min: 1, max: 9 }],\n            number: [{ min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.ADDITION\n        };\n\n        return Worksheets.addTowXDigitNumbersNoCarryProg(prog); */\n\n        return Worksheets.addSingleDigitNumberNoCarry2()\n    }\n\n    static addSingleDigitNumberNoCarry2(): MathProblem {\n\n        let program: WorksheetProgram = {\n            answer: [{ min: 1, max: 9 }],\n            number: [{ min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.ADDITION\n        };\n\n        const answer_matrice = MathGenerator.getRandomIntInclusive(0, 99);\n        let number1 = answer_matrice % 10\n        let number2 = Math.trunc(answer_matrice / 10)\n\n        let answer = number1 + number2\n\n        const max_answer = program.answer[0].max\n        if (answer > max_answer) {\n            number1 = Math.abs(number1 - max_answer)\n            number2 = Math.abs(number2 - max_answer)\n            answer = number1 + number2\n        }\n\n        let math_problem: MathProblem = new MathProblem(program.mathProblemType, [number1, number2], answer);\n\n        return math_problem;\n    }\n\n\n    //Adding two single-digit numbers - sum 10 or less\n    static addTowSingleDigitNumberSum10orLess(): MathProblem {\n        return Worksheets.addTowXDigitNumbersNoCarry(1);\n    }\n\n    //Add a 2-digit number and a 1-digit number mentally - within the same ten\n    static addDoubleDigitWithSingleDigitNumberNoCarry(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }, { min: 0, max: 9 }],\n            number: [{ min: 0, max: 0 }, { min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.ADDITION\n        };\n\n        return Worksheets.addTowXDigitNumbersNoCarryProg(prog);\n    }\n\n    //Add a 2-digit number and a 1-digit number in columns\n    static addTowDoubleDigitNumbersNoCarry(): MathProblem {\n        return Worksheets.addTowXDigitNumbersNoCarry(2);\n    }\n\n    //Add a 2-digit number and a 1-digit number in columns\n    static addTowXDigitNumbersNoCarry(xDigit: number): MathProblem {\n        let prog = new WorksheetProgram(xDigit, MathProblemTypes.ADDITION);\n\n        for (let i = 0; i < xDigit; ++i) {\n            let first = i === 0;\n\n            let instruction: WorksheetProgramInstruction = {\n                min: 0,\n                max: 9\n            }\n\n            prog.answer[i] = instruction;\n            prog.number[i] = { ...instruction };\n\n            if (first) {\n                prog.answer[i].min = 2;\n                prog.number[i].min = 1;\n            } else {\n                prog.answer[i].min = 1;\n            }\n        }\n        return Worksheets.addTowXDigitNumbersNoCarryProg(prog);\n    }\n\n    static addTowXDigitNumbersNoCarryProg(program: WorksheetProgram): MathProblem {\n\n        let answer: number = 0;\n        let number2: number = 0;\n        let xDigit = program.answer.length;\n\n\n        for (let i = 0; i < xDigit;) {\n            let first = i == 0;\n\n            let a = MathGenerator.getRandomIntInclusive(program.answer[i].min, program.answer[i].max);\n\n            let valmax = Math.min(first ? a - 1 : a, program.number[i].max)\n            let valmin = first ? 1 : program.number[i].min\n\n            let n = MathGenerator.getRandomIntInclusive(valmin, valmax);\n\n            let pow = xDigit - ++i;\n            answer += a * (10 ** pow);\n            number2 += n * (10 ** pow);\n        }\n\n        let number1: number = answer - number2;\n\n        let mp: MathProblem = new MathProblem(program.mathProblemType, [number1, number2], answer);\n\n        //mp.shuffle();\n\n        return mp;\n    }\n\n    static addTowDigitNumberWithTowDigitNumberWithCarry(): MathProblem {\n        let prog = {\n            answer: [{ min: 3, max: 9 }, { min: 0, max: 8 }],\n            number: [{ min: 1, max: 9 }, { min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.ADDITION\n        };\n\n        return Worksheets.addTowXDigitNumbersWithCarry(prog);\n    }\n    //TODO test\n    static addTowXDigitNumbersWithCarry(prog: WorksheetProgram): MathProblem {\n\n        let answer: number = 0;\n        let number2: number = 0;\n        let xDigit = prog.answer.length;\n\n        for (let i = 0; i < xDigit;) {\n            let first = i === 0;\n            let last = i + 1 >= xDigit;\n\n            let a = MathGenerator.getRandomIntInclusive(prog.answer[i].min, prog.answer[i].max);\n\n            let valmin: number = prog.number[i].min;\n            let valmax: number = prog.number[i].max;\n\n            if (first) {\n                valmax = Math.min(a - 2, prog.number[i].max)\n            } if (last) {\n                valmin = a + 1;\n            } else {\n                valmax = Math.min(a - 1, prog.number[i].max)\n            }\n\n            let n = MathGenerator.getRandomIntInclusive(valmin, valmax);\n\n            let pow = xDigit - ++i;\n            answer += a * (10 ** pow);\n            number2 += n * (10 ** pow);\n        }\n\n        let number1: number = answer - number2;\n\n        let mp: MathProblem = new MathProblem(prog.mathProblemType, [number1, number2], answer);\n\n        mp.shuffle();\n\n        return mp;\n    }\n\n    static addTwoNumbersAnswerBellow20(): MathProblem {\n        let answer = MathGenerator.getRandomIntInclusive(2, 19);\n        let number2 = MathGenerator.getRandomIntInclusive(0, answer);\n\n        let number1: number = answer - number2;\n\n        let mp: MathProblem = new MathProblem(MathProblemTypes.ADDITION, [number1, number2], answer);\n\n        mp.shuffle();\n        return mp;\n    }\n\n    static addTwoNumbersAnswerBetwen10And20(): MathProblem {\n        let answer = MathGenerator.getRandomIntInclusive(10, 20);\n        let number2 = MathGenerator.getRandomIntInclusive(0, answer);\n\n        let number1: number = answer - number2;\n\n        let mp: MathProblem = new MathProblem(MathProblemTypes.ADDITION, [number1, number2], answer);\n\n        mp.shuffle();\n        return mp;\n    }\n\n    //Subtraction facts - numbers up to 10\n    static subtractOneDigitNumberFromOneDigitNumberWithoutRegrouping(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }],\n            number: [{ min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithoutRegrouping(prog);\n    }\n\n    static subtractAnswerbelow10(): MathProblem {\n\n        let highNumber = MathGenerator.getRandomIntInclusive(2, 9 + 9);\n        let min = (highNumber % 10) + 1\n        let answer = MathGenerator.getRandomIntInclusive(min, 9);\n\n        if (highNumber < answer) {\n            let tmp = highNumber;\n            highNumber = answer;\n            answer = tmp;\n        }\n\n        let number = highNumber - answer;\n\n        let mp: MathProblem = new MathProblem(MathProblemTypes.SUBTRACTION, [highNumber, number], answer);\n\n        return mp;\n    }\n\n    static subtractAnswerbelow10_1(): MathProblem {\n        let answer = MathGenerator.getRandomIntInclusive(1, 9);\n        let number2 = MathGenerator.getRandomIntInclusive(0, 9);\n        let number1 = answer + number2\n\n        let mp: MathProblem = new MathProblem(MathProblemTypes.SUBTRACTION, [number1, number2], answer);\n\n        return mp;\n    }\n\n    //Subtract multiples of 10\n    static subtractMultiplesOf10(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }, { min: 0, max: 0 }],\n            number: [{ min: 1, max: 9 }, { min: 0, max: 0 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithoutRegrouping(prog);\n    }\n\n    //Subtract a one-digit number from a two-digit number - without regrouping\n    static subtractOneDigitNumberFromTwoDigitNumberWithoutRegrouping(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }, { min: 0, max: 9 }],\n            number: [{ min: 0, max: 0 }, { min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithoutRegrouping(prog);\n    }\n\n    //Subtract a one-digit number from a two-digit number - with regrouping\n    static subtractOneDigitNumberFromTwoDigitNumberWithRegrouping(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }, { min: 0, max: 8 }],\n            number: [{ min: 0, max: 0 }, { min: 1, max: 9 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithRegrouping(prog);\n    }\n\n    //Subtract two two-digit numbers - without regrouping\n    static subtractTowDigitNumberFromTwoDigitNumberWithoutRegrouping(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 1, max: 9 }, { min: 0, max: 9 }],\n            number: [{ min: 0, max: 0 }, { min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithoutRegrouping(prog);\n    }\n\n    //Subtract two two-digit numbers - with regrouping\n    static subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping(): MathProblem {\n\n        let prog = {\n            answer: [{ min: 2, max: 9 }, { min: 0, max: 8 }],\n            number: [{ min: 1, max: 9 }, { min: 0, max: 9 }],\n            mathProblemType: MathProblemTypes.SUBTRACTION\n        };\n\n        return Worksheets.subtractXDigitNumberFromXDigitNumberWithRegrouping(prog);\n    }\n\n    static subtractXDigitNumberFromXDigitNumberWithoutRegrouping(prog: WorksheetProgram): MathProblem {\n        return Worksheets.subtractXDigitNumberFromXDigitNumber(prog, false);\n    }\n\n    static subtractXDigitNumberFromXDigitNumberWithRegrouping(prog: WorksheetProgram): MathProblem {\n        return Worksheets.subtractXDigitNumberFromXDigitNumber(prog, true);\n    }\n\n    static subtractXDigitNumberFromXDigitNumber(prog: WorksheetProgram, withRegrouping: boolean): MathProblem {\n        let number1: number = 0;\n        let number2: number = 0;\n        let xDigit = prog.answer.length;\n\n        for (let i = 0; i < xDigit;) {\n\n            let a = MathGenerator.getRandomIntInclusive(prog.answer[i].min, prog.answer[i].max);\n            let valmin: number = prog.number[i].min;\n            let valmax: number = prog.number[i].max;\n            let n = MathGenerator.getRandomIntInclusive(valmin, valmax);\n\n            let isFirst = i == 0;\n            let isLast = i + 1 >= xDigit\n\n            if (isFirst) {\n                if (a < n) {\n                    let tmp = a;\n                    a = n\n                    n = tmp\n                }\n\n                if (withRegrouping) {\n                    if (a === n) { //if equals, it will go bellow 0 \n                        ++a;\n                    }\n                }\n            } else {\n                if (withRegrouping) {\n                    if (a === n) { //if equals there are no regroupping\n                        ++n\n                    } else if (a > n) {\n                        let tmp = a;\n                        a = n\n                        n = tmp\n                    }\n                } else {\n                    if (a < n) {\n                        let tmp = a;\n                        a = n\n                        n = tmp\n                    }\n                }\n            }\n\n            let pow = xDigit - ++i;\n            number1 += a * (10 ** pow);\n            number2 += n * (10 ** pow);\n        }\n\n        let answer: number = number1 - number2;\n\n        let mp: MathProblem = new MathProblem(prog.mathProblemType, [number1, number2], answer);\n\n        return mp;\n    }\n\n    static subtractXDigitNumberFromXDigitNumber_back(prog: WorksheetProgram, withRegrouping: boolean): MathProblem {\n        let number1: number = 0;\n        let number2: number = 0;\n        let xDigit = prog.answer.length;\n\n        for (let i = 0; i < xDigit;) {\n\n            let a = MathGenerator.getRandomIntInclusive(prog.answer[i].min, prog.answer[i].max);\n            let valmin: number = prog.number[i].min;\n            let valmax: number = prog.number[i].max;\n\n            if (withRegrouping) {\n                if (i == 0) { //is first\n                    valmax = Math.min(prog.number[i].max, a - 1);\n                } else {\n                    valmin = a + 1\n                };\n            } else {/*\n                if (i + 1 >= xDigit) { // is last\n                    valmax = a;\n                } else {\n                    valmax = Math.min(prog.number[i].max, a - 1);\n                }*/\n                valmax = a\n            }\n\n            let n = MathGenerator.getRandomIntInclusive(valmin, valmax);\n\n            let pow = xDigit - ++i;\n            number1 += a * (10 ** pow);\n            number2 += n * (10 ** pow);\n        }\n\n        let answer: number = number1 - number2;\n\n        let mp: MathProblem = new MathProblem(prog.mathProblemType, [number1, number2], answer);\n\n        return mp;\n    }\n}\n\nexport class WorksheetProgram {\n    answer: WorksheetProgramInstruction[]\n    number: WorksheetProgramInstruction[]\n    mathProblemType: MathProblemTypes\n\n    constructor(xDigit: number, mathProblemType: MathProblemTypes) {\n        this.answer = new Array(xDigit);\n        this.number = new Array(xDigit);\n        this.mathProblemType = mathProblemType;\n    }\n}\n\nexport class WorksheetProgramInstruction {\n    min: number;\n    max: number\n}","import { MathGenerator } from './mathGenerator';\nimport { MathProblem } from \"./mathProblem\";\nimport { GenerateRange, MathProblemTypes, Relation, Answer } from './mathProblemTypes';\nimport { RangeManager, Range } from './rangeManager';\nimport { WorksheetsItem, MultiParam } from './worksheetsDefinitions'\n\nexport class Worksheets2 {\n    static [index: string] : any;\n\n    static multiplySingleDigitNumber(): MathProblem {\n\n        let generateRange: GenerateRange[] = [\n            { min: 0, max: 10 },\n            { min: 0, max: 10 }\n        ];\n\n        return MathGenerator.getListofRandomNumber(generateRange, MathProblemTypes.MULTIPLICATION);\n    }\n\n    static multiplicationTable(worksheetsItem: WorksheetsItem): MathProblem {\n\n        let parameters = worksheetsItem.parameters\n\n        if (!parameters) {\n            console.warn(`Parameters == null or undefined`);\n        }\n\n        let parametersType: MultiParam = parameters as MultiParam;\n\n        let context: MultiplicationTableSaveContext = worksheetsItem._context as MultiplicationTableSaveContext\n\n        if (context == null) {\n\n            let numbersRange1: Range[] = RangeManager.rangeParser(parametersType.numbers1, true)\n\n            let numbersRange2: Range[] = RangeManager.rangeParser(parametersType.numbers2, true)\n\n            let series: MathProblem[] = MathGenerator.getSeries(parameters.problemTypes, numbersRange1, numbersRange2, parameters.shuffle);\n\n            context = {\n                next: 0,\n                series: series\n            };\n\n            worksheetsItem._context = context\n        } else {\n            context.next++\n        }\n\n        let mathProblem = context.series[context.next % context.series.length];\n\n        return mathProblem\n    }\n}\n\ninterface MultiplicationTableSaveContext {\n    next: number;\n    series: MathProblem[]\n}","import { MathProblem } from \"./mathProblem\";\r\nimport { MathProblemTypes } from './mathProblemTypes';\r\nimport { Worksheets } from './worksheets'\r\nimport { Worksheets2 } from './worksheets2'\r\nimport { MultiParam, WorksheetsItem, GeneratorFunctionCB } from './worksheetsDefinitions'\r\n\r\nexport class WorksheetsMap {\r\n\r\n    private static worksheetsMap : WorksheetsMap = null;\r\n    private map : Map<string, WorksheetsItem> = new Map();\r\n    private index : number = 0\r\n    private values : WorksheetsItem[] = [\r\n        this.generateMapItem(\r\n            $localize `:@@addSingleDigitNumberNoCarry:Add Single Digit Number NoCarry`,\r\n            Worksheets.addSingleDigitNumberNoCarry,\r\n            1,\r\n            MathProblemTypes.ADDITION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addTowSingleDigitNumberSum10orLess:Adding two single-digit numbers - sum 10 or less`,\r\n            Worksheets.addTowSingleDigitNumberSum10orLess,\r\n            1,\r\n            MathProblemTypes.ADDITION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addSingleDigitNumber:Add Single Digit Number`,\r\n            Worksheets.addSingleDigitNumber,\r\n            1,\r\n            MathProblemTypes.ADDITION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addDoubleDigitWithSingleDigitNumberNoCarry:Add a 2-digit number and a 1-digit number mentally - within the same ten`,\r\n            Worksheets.addDoubleDigitWithSingleDigitNumberNoCarry,\r\n            2,\r\n            MathProblemTypes.ADDITION\r\n\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addTowDoubleDigitNumbersNoCarry:Add a 2-digit number and a 1-digit number in columns`,\r\n            Worksheets.addTowDoubleDigitNumbersNoCarry,\r\n            2,\r\n            MathProblemTypes.ADDITION\r\n\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addTowDigitNumberWithTowDigitNumberWithCarry:Add a 2 digit number with a 2 digit number with carry`,\r\n            Worksheets.addTowDigitNumberWithTowDigitNumberWithCarry,\r\n            2,\r\n            MathProblemTypes.ADDITION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@addTwoNumbersAnswerBellow20:Add Two Numbers Answer Bellow 20`,\r\n            Worksheets.addTwoNumbersAnswerBellow20,\r\n            2,\r\n            MathProblemTypes.ADDITION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractOneDigitNumberFromOneDigitNumberWithoutRegrouping:Subtraction facts - numbers up to 10`,\r\n            Worksheets.subtractOneDigitNumberFromOneDigitNumberWithoutRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractAnswerbelow10:Subtraction facts - answer below 10`,\r\n            Worksheets.subtractAnswerbelow10,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractOneDigitNumberFromTwoDigitNumberWithoutRegrouping:Subtract a one-digit number from a two-digit number - without regrouping`,\r\n            Worksheets.subtractOneDigitNumberFromTwoDigitNumberWithoutRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractMultiplesOf10:Subtract multiples of 10`,\r\n            Worksheets.subtractMultiplesOf10,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractOneDigitNumberFromTwoDigitNumberWithRegrouping:Subtract a one-digit number from a two-digit number - with regrouping`,\r\n            Worksheets.subtractOneDigitNumberFromTwoDigitNumberWithRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractTowDigitNumberFromTwoDigitNumberWithoutRegrouping:Subtract two two-digit numbers - without regrouping`,\r\n            Worksheets.subtractTowDigitNumberFromTwoDigitNumberWithoutRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping:Subtract two two-digit numbers - with regrouping`,\r\n            Worksheets.subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping:Subtract two two-digit numbers - with regrouping`,\r\n            Worksheets.subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping,\r\n            2,\r\n            MathProblemTypes.SUBTRACTION\r\n        ),\r\n        this.generateMapItem(\r\n            $localize `:@@Multiply_2_single_digits:Multiply two single digit numbers`,\r\n            Worksheets2.multiplySingleDigitNumber,\r\n            3,\r\n            MathProblemTypes.MULTIPLICATION\r\n        )\r\n\r\n    ];\r\n\r\n    static getWorksheetsItem(): WorksheetsItem[] {\r\n        return this.getInstance().values;\r\n    }\r\n\r\n    static has(code: string): boolean {\r\n        return this.getInstance().map.has(code);\r\n    }\r\n\r\n    static getInstance() : WorksheetsMap {\r\n        if (this.worksheetsMap == null) {\r\n            this.worksheetsMap = new WorksheetsMap();\r\n        }\r\n        return this.worksheetsMap;\r\n    }\r\n\r\n    private generateMapItem(label: string,\r\n        func: GeneratorFunctionCB,\r\n        grade : number,\r\n        mathProblemType: MathProblemTypes, param? : MultiParam): WorksheetsItem {\r\n\r\n        let w: WorksheetsItem = {\r\n            label: label,\r\n            func: func,\r\n            funcName: func.name,\r\n            mathProblemType: mathProblemType,\r\n            code: mathProblemType + \"_\" + this.index++,\r\n            parameters: param,\r\n            grade: grade\r\n        }\r\n\r\n        this.map.set(w.code, w)\r\n        return w\r\n    }\r\n\r\n    constructor () {\r\n\r\n        for (let i = 1; i <= 12; i++ ) {\r\n\r\n            let workSheetItem = this.generateMapItem(\r\n                $localize `:@@MultiplicationTable:${i} time table`,\r\n                Worksheets2.multiplicationTable,\r\n                3,\r\n                MathProblemTypes.MULTIPLICATION,\r\n                {\r\n                    problemTypes : MathProblemTypes.MULTIPLICATION,\r\n                    numbers1 : i.toString(),\r\n                    numbers2 : \"1-12\",\r\n                    shuffle: true\r\n                }\r\n            )\r\n            this.values.push(workSheetItem);\r\n        }\r\n    }\r\n}","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, SimpleChanges, OnDestroy } from '@angular/core';\nimport { MathGenerator } from '../math-generator/mathGenerator'\nimport { MathProblem } from \"../math-generator/mathProblem\";\nimport { Config } from '../services/config';\nimport { Subscription } from 'rxjs';\nimport { MathQuestionService, QuestionStatus, MathQuestionNotifier } from '../services/math-question.service';\nimport { ColumnAnswerComponent, FocusType, ColumnAnswerMode } from '../column-answer/column-answer.component'\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatIconRegistry, MatIconModule } from '@angular/material/icon';\nimport { AnswerValueComponent } from '../answer-value/answer-value.component';\nconst regexNumVal = /[0-9,-\\.]/\n\n@Component({\n  selector: 'app-math-question',\n  templateUrl: './math-question.component.html',\n  styleUrls: ['./math-question.component.scss']\n})\n\nexport class MathQuestionComponent implements OnInit, OnDestroy {\n  userInput: string\n  status: QuestionStatus = QuestionStatus.EMPTY;\n  stacked: boolean = true;\n  private _problem: MathProblem;\n  private myEventSubscriptions: Subscription[] = [];\n  @Input() config: Config;\n  @Input() questionId: number;\n  @Input() needReset: boolean;\n  //controlIndex: number;\n  @ViewChild(ColumnAnswerComponent, { static: false }) private columnAnswerComponent: ColumnAnswerComponent;\n  @ViewChild(AnswerValueComponent, { static: false }) private answer_value_component: AnswerValueComponent;\n  currentFocus = FocusType.BLUR;\n  size = 3;\n  columnAnswerMode = ColumnAnswerMode;\n\n  constructor(\n    private mathQuestionService: MathQuestionService, iconRegistry: MatIconRegistry, sanitizer: DomSanitizer) {\n    \n      iconRegistry.addSvgIcon(\n      'delete-cross',\n      sanitizer.bypassSecurityTrustResourceUrl('assets/img/delete_icon.svg'));\n\n  }\n\n  ngOnInit(): void {\n    this.debug(\"QID \" + this.id);\n  }\n\n  get id(): string {\n    return \"mq\" + this.questionId\n  }\n\n  get problem() : MathProblem {\n    return this._problem;\n  }\n\n  ngOnDestroy(): void {\n    this.myEventSubscriptions.forEach(subscription => {\n      this.debug(`subscription.unsubscribe() ${subscription}`)\n      subscription.unsubscribe()\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['config']) {\n      this.stacked = this.config.orientation == \"VERTICAL\";\n    }\n\n    if (changes['needReset']) {\n      if (this.needReset || changes['needReset'].isFirstChange()) {\n        this.reset();\n      }\n    }\n  }\n\n  onValueChange: ValidateCB = (userInput: string, callerId: number): QuestionStatus => {\n    this.log(`onValueChange userInput ${userInput} ${typeof userInput} callerId: ${callerId} config_rt: ${this.config.realTimeValidation}`)\n\n    this.userInput = userInput;\n    let status: QuestionStatus = null;\n    if (this.config.realTimeValidation) {\n      status = this.validateAnswer(true)\n    } else {\n      status = this.validateInput();\n    }\n    return status;\n  }\n\n  validateInput() {\n\n    let empty = this.userInput == null || (typeof this.userInput == \"string\" && this.userInput.trim().length == 0);\n    let status = this.status;\n\n    if (this.currentFocus == FocusType.FOCUS) {\n      status = QuestionStatus.FOCUS\n    } else {\n      status = empty ? QuestionStatus.EMPTY : QuestionStatus.ANSWERED\n    }\n\n    this.changeStatus(status, false, true)\n\n    return this.status;\n  }\n\n  validateAnswer(informParent: boolean): QuestionStatus {\n    let answer = this.problem.answer;\n    this.log(`User Input: ${this.userInput} Answer: ${answer}`);\n\n    let userAnswer = parseInt(this.userInput);\n\n    this.log(`User Input: ${this.userInput} userAnswer: ${userAnswer}`)\n    let status = this.status;\n    if (userAnswer === answer) {\n      this.debug(\"R\")\n      status = QuestionStatus.RIGHT;\n    }\n    else if (isNaN(userAnswer)) {\n      this.debug(\"Void\")\n      status = this.currentFocus == FocusType.FOCUS ? QuestionStatus.FOCUS : QuestionStatus.EMPTY;\n    }\n    else if (this.currentFocus == FocusType.FOCUS) {\n      let userAnswerLength = userAnswer.toString().length; //this to ensure raw string length (it trims)\n      let answerLength = answer.toString().length\n      if (userAnswerLength >= answerLength) {\n        this.debug(\"W Length\")\n        status = QuestionStatus.WRONG;\n      } else {\n        this.debug(\"Infocus\")\n        status = QuestionStatus.FOCUS;\n      }\n    }\n    else {\n      this.debug(\"W\")\n      status = QuestionStatus.WRONG;\n    }\n\n    this.changeStatus(status, false, informParent)\n\n    return this.status\n  }\n\n  preventUpDown(event: KeyboardEvent) {\n    if (event.code === \"ArrowUp\" || event.code === \"ArrowDown\") {\n      event.preventDefault();\n    }\n  }\n\n  typeKey(event: KeyboardEvent) {\n    this.debug(\"typeKey\");\n    this.debug(event);\n  }\n\n  reset() {\n    this._problem = MathGenerator.generateProblemNext(this.config, this.questionId);\n    this.size = Math.max(this.problem.displaySize + 1, 3);\n    this.debug(\"PROBLEM !!!\");\n    this.debug(this._problem);\n    this.debug(this.config);\n    this.changeStatus(QuestionStatus.EMPTY, false, false)\n    this.userInput = null;\n  }\n\n  clear() {\n    this.currentFocus = FocusType.BLUR;\n    this.onValueChange(null, 0);\n  }\n\n  notRight(): boolean {\n    return this.status !== QuestionStatus.RIGHT;\n  }\n\n  onFocusChange(newFocus: FocusType) {\n    let focucusingOut = this.currentFocus == FocusType.FOCUS && newFocus == FocusType.BLUR;\n    this.log(`onFocusChange ${newFocus} currentFocus ${this.currentFocus} focusingOut: ${focucusingOut} UserIinput: \"${this.userInput}\"`)\n\n    this.currentFocus = newFocus;\n\n    setTimeout(() => {\n      if (newFocus === FocusType.FOCUS) {\n        switch (this.status) {\n          case QuestionStatus.WRONG:\n          case QuestionStatus.EMPTY:\n          case QuestionStatus.ANSWERED:\n            this.changeStatus(QuestionStatus.FOCUS, false, true)\n            break;\n        }\n      }\n    });\n\n    if (focucusingOut) {\n      this.onValueChange(this.userInput, 0)\n    }\n  }\n\n  on_status_change(new_status: QuestionStatus) {\n    let forceExitFocus = true\n\n    switch (new_status) {\n      case QuestionStatus.EMPTY:\n        forceExitFocus = false;\n        break;\n\n      case QuestionStatus.WRONG:\n        forceExitFocus = false;\n        break;\n\n      case QuestionStatus.FOCUS:\n        forceExitFocus = false;\n        break;\n    }\n\n    this.debug(`on_status_change new: ${new_status} old: ${this.status}`)\n\n    this.changeStatus(new_status, forceExitFocus, true)\n  }\n\n  private changeStatus(newStatus: QuestionStatus, forceExitFocus: boolean, isParentCanValidate: boolean) {\n    if (this.status !== newStatus) {\n      this.status = newStatus\n      this.informParent(forceExitFocus, isParentCanValidate)\n    }\n  }\n\n  existFocus(event: any) {\n    console.warn(this.log(\"exitWidget\"))\n    this.informParent(true, true);\n  }\n\n  focus() {\n    this.debug(`focus  ${this.id} `);\n    this.debug(this.columnAnswerComponent);\n    //this.inFocus = true;\n    setTimeout(() => {\n      if (this.columnAnswerComponent) {\n        this.columnAnswerComponent.focus();\n      } else if (this.answer_value_component) {\n        this.answer_value_component.focus();\n      }\n    })\n  }\n\n  notEmpty(): boolean {\n    return this.userInput.length != 0;\n  }\n\n  private informParent(forceExit: boolean, isParentCanValidate: boolean) {\n    let notification: MathQuestionNotifier = {\n      status: this.status,\n      id: this.id,\n      index: this.questionId,\n      forceExitFocus: forceExit,\n      isParentCanValidate: isParentCanValidate\n    }\n\n    this.mathQuestionService.next(notification);\n  }\n\n  invert(): void {\n    this._problem = this._problem.getInvert();\n    this.clear();\n  }\n\n  private log(message: any): any {\n    console.log(this.format_trace(message))\n  }\n\n  private debug(message: any): any {\n    console.debug(this.format_trace(message))\n  }\n\n  private format_trace(message: any): any {\n    let type = typeof message;\n    if (type == 'string' || type == 'number') {\n      return `MQ${this.questionId} - ${message}`\n    } else {\n      return message\n    }\n  }\n}\n\nexport type ValidateCB = (newValue: string, index: number) => QuestionStatus;","<div class=\"content\">\n  <h2 class=\"mat-h2\">Question&nbsp;{{questionId + 1}}</h2>\n  <div class=\"mathQuestion\">\n\n    <ng-container *ngIf=\"stacked else flat\">\n      <section class=\"question_column\">\n        <section class=\"operator\">{{problem.mathProplemActions.operator}}</section>\n        <section class=\"numbers\">\n\n          <ng-container *ngIf=\"config.answerMode==columnAnswerMode.COLUMNS; then columns; else normal\"></ng-container>\n\n        </section>\n      </section>\n      <hr class=\"hr_equals\" />\n      <ng-container *ngTemplateOutlet=\"answerField2\"></ng-container>\n    </ng-container>\n\n    <ng-template #flat>\n      <section class=\"question_flat\">\n        <ng-template ngFor let-num [ngForOf]=\"problem.values\" let-i=\"index\" let-last=\"last\">\n          <span class=\"number_flat\">{{num}}</span>\n          <span *ngIf=\"last==false\" class=\"operator\">{{problem.mathProplemActions.operator}}</span>\n        </ng-template>\n        <span class=\"equals\">=</span>\n        <ng-container *ngTemplateOutlet=\"answerField2\"></ng-container>\n      </section>\n\n    </ng-template>\n  </div>\n</div>\n\n<ng-template #columns>\n  <div class=\"number_column\" *ngFor=\"let number of problem.values; index as i; last as last\">\n    <div class=\"digit\" *ngFor=\"let digit of number.toString().split('')\">{{digit}}</div>\n  </div>\n</ng-template>\n\n<ng-template #normal>\n  <div class=\"number_normal\" *ngFor=\"let number of problem.values; index as i; last as last\">\n    {{number}}\n  </div>\n</ng-template>\n\n<ng-template #answerField>\n  <div class=\"answerField\">\n    <app-column-answer [id]='questionId.toString()' [size]='size' [mode]='config.answerMode' [value]='userInput'\n      [valueChange]=\"onValueChange\" (focusChange)=\"onFocusChange($event)\" [answerStatus]=\"status\"\n      (existFocus)=\"existFocus($event)\"></app-column-answer>\n  </div>\n</ng-template>\n\n<ng-template #answerField2>\n  <div class=\"answerField\">\n\n    <app-answer-value [id]='questionId.toString()' [real_answer]='problem.answer' (status_change)=\"on_status_change($event)\" [config]=\"config\"></app-answer-value>\n    <!-- app-column-answer [id]='questionId.toString()' [size]='size' [mode]='config.answerMode' [value]='userInput'\n      [valueChange]=\"onValueChange\" (focusChange)=\"onFocusChange($event)\" [answerStatus]=\"status\"\n      (existFocus)=\"existFocus($event)\"></app-column-answer -->\n\n  </div>\n</ng-template>","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap, UrlSegment } from '@angular/router';\n\n@Component({\n  selector: 'app-multiplication-table',\n  templateUrl: './multiplication-table.component.html',\n  styleUrls: ['./multiplication-table.component.scss']\n})\nexport class MultiplicationTableComponent implements OnInit {\n\n\n  tables: number[]\n  tablesSelected: number[] = []\n\n  column: number = null\n  row: number = null\n  addition = false\n  operator : string = null\n\n  constructor(private route: ActivatedRoute) {\n    let start = 1;\n    let end = 12;\n\n    this.tables = Array(end - start + 1).fill(null).map((_, idx: number) => start + idx)\n\n\n  }\n\n  ngOnInit(): void {\n    this.route.url.subscribe((x: UrlSegment[]) => {\n      if (x[0].path === \"additiontable\") {\n        this.addition = true;\n        this.calculate = this.calculateAddition\n        this.operator = \"+\"\n      } else {\n        this.addition = false;\n        this.calculate = this.calculateMultiplication\n        this.operator = \"x\"\n      }\n    }\n    );\n  }\n\n  onMouseHover(c: number, r: number) {\n    this.column = c;\n    this.row = r;\n  }\n\n  calculateClasses(col: number, row: number) {\n    if (row == this.row) {\n      if (col == this.column) {\n        return \"onHover\"\n      } else if (col < this.column) {\n        return \"inPath\"\n      }\n    } else if (row < this.row) {\n      if (col == this.column) {\n        return \"inPath\"\n      }\n    }\n    return null\n  }\n\n  isColRowSet(): boolean {\n    return this.row != null && this.column != null;\n  }\n\n  calculate : (num1 : number, num2 : number) => number = null;\n\n  calculateAddition(num1 : number, num2 : number) : number {\n    return num1 + num2\n  }\n\n  calculateMultiplication(num1 : number, num2 : number) {\n    return num1 * num2\n  }\n}\n","<section class=\"equation\" *ngIf=\"isColRowSet()\">\n    {{tables[column]}} {{operator}} {{tables[row]}} = {{calculate(tables[column], tables[row])}}\n</section>\n<table>\n    <tr>\n        <th></th>\n        <th *ngFor=\"let num2 of tables;index as i\" [ngClass]=\"calculateClasses(i, -1)\">{{num2}}</th>\n    </tr>\n    <tr *ngFor=\"let num1 of tables;  index as row \">\n        <th [ngClass]=\"calculateClasses(-1, row)\">{{num1}}</th>\n        <td *ngFor=\"let num2 of tables;  index as col\" \n        (mouseover)=\"onMouseHover(col, row)\"\n        [ngClass]=\"calculateClasses(col, row)\">{{calculate(num1, num2)}}</td>\n    </tr>\n</table>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>page-not-found works!</p>\n<p>404</p>\n","import {\n  Component,\n  OnInit,\n  ViewChildren,\n  QueryList,\n  Inject,\n  OnDestroy\n} from '@angular/core'\nimport { MathProblem } from '../math-generator/mathProblem'\nimport { ConfigService, ConfigServiceInfo } from '../services/config.service'\nimport {\n  Config,\n  OrientationTypesKey,\n  EquationOrientation,\n  EquationOrientations\n} from '../services/config'\nimport {\n  MathQuestionService,\n  MathQuestionNotifier,\n  QuestionStatus\n} from '../services/math-question.service'\nimport { MathQuestionComponent } from '../math-question/math-question.component'\nimport { Subscription } from 'rxjs'\nimport {\n  ColumnAnswerMode,\n  ANSWER_MODES\n} from '../column-answer/column-answer.component'\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog'\n\n@Component({\n  selector: 'app-problem-panel',\n  templateUrl: './problem-panel.component.html',\n  styleUrls: ['./problem-panel.component.scss']\n})\nexport class ProblemPanelComponent implements OnInit, OnDestroy {\n  problems: MathProblem[]\n  @ViewChildren(MathQuestionComponent)\n  private mathQuestionComponents: QueryList<MathQuestionComponent>\n  successCount: number\n  answerMap: Map<string, QuestionStatus> = new Map()\n  equationOrientations: EquationOrientation[] = EquationOrientations\n  private substriptions: Subscription[] = []\n  config: Config = null\n  ANSWER_MODES = ANSWER_MODES\n  needReset: boolean = false\n  dialogRef: MatDialogRef<ProblemPanelComponentDialog> = null\n\n  constructor(\n    private configService: ConfigService,\n    private mathQuestionService: MathQuestionService,\n    private dialog: MatDialog\n  ) {\n    this.resetProgress()\n  }\n\n  ngOnInit(): void {\n    this.substriptions.push(\n      this.configService.subscribe((cfsi: ConfigServiceInfo) => {\n        this.config = { ...cfsi.config } //to force the change detection\n        this.problems = new Array(\n          cfsi.config.nbQuestions >= 1 ? cfsi.config.nbQuestions : 1\n        ) //TODO make an universal function\n        this.answerMap.clear()\n        //reset state\n        this.needReset = cfsi.needReset\n        if (cfsi.needReset) {\n          this.resetProgress()\n        }\n      })\n    )\n\n    this.substriptions.push(\n      this.mathQuestionService.subscribe(notification => {\n        this.manageNotification(notification)\n      })\n    )\n  }\n\n  ngOnDestroy(): void {\n    this.substriptions.forEach(substription => substription.unsubscribe())\n  }\n\n  private manageNotification(notification: MathQuestionNotifier) {\n\n    console.log(`manageNotification`, notification)\n\n    let currentStatus = this.manageStatus(notification)\n\n    if (this.config.realTimeValidation) {\n      let next: boolean = false\n      switch (notification.status) {\n        case QuestionStatus.RIGHT:\n          if (currentStatus !== QuestionStatus.RIGHT) {\n            this.increaseProgress()\n            console.log(`SC: ${this.successCount} PC: ${this.problemsCount}`)\n\n            next = true\n          }\n          break\n        case QuestionStatus.WRONG:\n        case QuestionStatus.EMPTY:\n          this.decreaseProgress(currentStatus)\n          break\n      }\n\n      if (this.successCount >= this.problems.length) {\n        console.warn(\"FINISH\")\n        this.openDialog()\n      } else if (next || notification.forceExitFocus) {\n        this.nextComponentFocus(notification.index)\n      }\n    } else if (notification.isParentCanValidate) {\n      let canValidate: boolean = true\n\n      if (this.answerMap.size >= this.problems.length) {\n        this.answerMap.forEach((value: QuestionStatus) => {\n          switch (value) {\n            case QuestionStatus.EMPTY:\n            case QuestionStatus.FOCUS:\n              canValidate = false\n              break\n          }\n        })\n      } else {\n        canValidate = false\n      }\n\n      if (canValidate) {\n        this.validate()\n      }\n    }\n  }\n\n  private nextComponentFocus(index: number) {\n    let array = this.mathQuestionComponents.toArray()\n\n    let mathQuestionComponent: MathQuestionComponent\n\n    mathQuestionComponent = this.runOverCommponents(\n      index + 1,\n      array.length,\n      array\n    )\n\n    if (mathQuestionComponent === undefined) {\n      mathQuestionComponent = this.runOverCommponents(0, index + 1, array)\n    }\n\n    if (mathQuestionComponent) {\n      mathQuestionComponent.focus()\n    } else {\n      let nextOne = index + 1 >= array.length ? 0 : index + 1\n      array[nextOne].focus()\n    }\n  }\n\n  private manageStatus(notification: MathQuestionNotifier): QuestionStatus {\n    let currentStatus = this.answerMap.get(notification.id)\n    this.answerMap.set(notification.id, notification.status) //There is a race condition here TODO find a way to sync\n    console.debug(notification)\n    console.debug(\n      \"Notification Status '\" +\n      notification.status +\n      \"' currentStatus: '\" +\n      currentStatus +\n      \"' notification.id '\" +\n      notification.id +\n      \"'\"\n    )\n\n    return currentStatus\n  }\n\n  private runOverCommponents(\n    i: number,\n    limit: number,\n    mqcArray: MathQuestionComponent[]\n  ): MathQuestionComponent {\n    while (i < limit) {\n      let mq = mqcArray[i]\n      if (mq.notRight()) {\n        return mq\n      }\n      ++i\n    }\n    return null\n  }\n\n  private increaseProgress() {\n    this.successCount++\n  }\n\n  private decreaseProgress(currentStatus: QuestionStatus): void {\n    if (currentStatus === QuestionStatus.RIGHT) {\n      this.successCount--\n    }\n  }\n\n  ngAfterViewInit() {\n    //focus on the first child\n    this.focusFirst()\n  }\n\n  clearAll() {\n    this.mathQuestionComponents?.forEach(c => c.clear())\n    this.focusFirst()\n    this.resetProgress()\n  }\n\n  reset() {\n    this.mathQuestionComponents?.forEach(c => c.reset())\n    this.focusFirst()\n    this.resetProgress()\n  }\n\n  resetProgress() {\n    this.successCount = 0\n  }\n\n  get problemsCount(): number {\n    return this.problems.length\n  }\n\n  padding(padSize: number): any[] {\n    return new Array(padSize)\n  }\n\n  invert() {\n    this.mathQuestionComponents.forEach(c => c.invert())\n    this.focusFirst()\n  }\n\n  focusFirst() {\n    if (this.mathQuestionComponents?.length > 0) {\n      //Wrapped to avoid error ExpressionChangedAfterItHasBeenCheckedError\n      Promise.resolve(null).then(() =>\n        this.mathQuestionComponents.first.focus()\n      )\n    }\n  }\n\n  orientationChangeFn(orientation: string) {\n    console.log(`New orientation: ${orientation} ${typeof orientation}`)\n    this.config.orientation = orientation as OrientationTypesKey\n    this.configService.next(this.config, false)\n  }\n\n  realTimeValidationChangeFn(realTimeValidation: boolean) {\n    this.config.realTimeValidation = realTimeValidation\n    this.configService.next(this.config, false)\n\n    if (realTimeValidation) {\n      this.mathQuestionComponents.forEach((m: MathQuestionComponent) =>\n        m.validateAnswer(false)\n      )\n    } else {\n      this.mathQuestionComponents.forEach((m: MathQuestionComponent) =>\n        m.validateInput()\n      )\n    }\n  }\n\n  selectedAnswerModeChangeFn(selectedAnswerMode: ColumnAnswerMode) {\n    this.config.answerMode = selectedAnswerMode\n    this.configService.next(this.config, false)\n  }\n\n  nbProblemsChangeFn(nbProblems: number) {\n    this.config.nbQuestions = nbProblems\n    this.configService.next(this.config, false)\n  }\n\n  validate(): void {\n    this.mathQuestionComponents.forEach((m: MathQuestionComponent) => {\n      let informParent = false\n\n      if (!this.answerMap.has(m.id)) {\n        this.answerMap.set(m.id, m.status)\n      }\n\n      m.validateAnswer(informParent)\n    })\n    this.openDialog()\n  }\n\n  openDialog(): void {\n    if (this.dialogRef != null) {\n      return\n    }\n\n    console.log('Open dialog')\n\n    let data: DialogData = {\n      right: 0,\n      wrong: 0,\n      empty: 0,\n      total: this.answerMap.size\n    }\n\n    this.answerMap.forEach(v => {\n      switch (v) {\n        case QuestionStatus.RIGHT:\n          data.right++\n          break\n        case QuestionStatus.WRONG:\n          data.wrong++\n          break\n        case QuestionStatus.EMPTY:\n          data.empty++\n          break\n        default:\n          console.log('investigate')\n          break\n      }\n    })\n\n    this.dialogRef = this.dialog.open(ProblemPanelComponentDialog, {\n      width: '250px',\n      data: data\n    })\n\n    this.dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed')\n      this.dialogRef = null\n    })\n  }\n}\n\nexport interface DialogData {\n  right: number\n  wrong: number\n  empty: number\n  total: number\n}\n\n@Component({\n  selector: 'app-problem-panel-dialog',\n  templateUrl: './problem-panel-dialog.component.html',\n  styleUrls: ['./problem-panel.component.scss']\n})\nexport class ProblemPanelComponentDialog {\n  public dialogRef: MatDialogRef<ProblemPanelComponentDialog>\n\n  congratulationMsg: string = null\n  constructor(@Inject(MAT_DIALOG_DATA) public data: DialogData) {\n    let result = data.right / data.total\n\n    if (result == 1) {\n      this.congratulationMsg = $localize`:@@excellent:Excellent`\n    } else if (result >= 0.7) {\n      this.congratulationMsg = $localize`:@@good:Good`\n    } else {\n      this.congratulationMsg = $localize`:@@resultTryAgain:Try again`\n    }\n  }\n}\n","<app-progress-bar [totalCount]=\"problemsCount\" [progressCount]=\"successCount\"></app-progress-bar>\n<div class=\"problems\">\n  <div *ngFor=\"let problem of problems; index as i\" class=\"mathQuestionWrapper\">\n    <app-math-question [questionId]='i' [config]=\"config\" [needReset]=\"needReset\"></app-math-question>\n  </div>\n  <div *ngFor=\"let problem of padding(0)\" class=\"mathQuestionWrapper\">\n  </div>\n</div>\n<br />\n\n<button mat-raised-button color=\"accent\" (click)=validate() *ngIf=\"!config.realTimeValidation\">Validate</button>\n\n<br /><button mat-button (click)=\"clearAll()\">\n  <mat-icon>clear_all</mat-icon>\n  <span>Clear All</span>\n</button>\n&nbsp;\n<button mat-button (click)=\"reset()\">\n  <mat-icon>refresh</mat-icon>\n  <span>Regenerate</span>\n</button>\n&nbsp;\n<button mat-button (click)=\"invert()\">\n  <mat-icon>invert_colors</mat-icon>\n  <span>Invert</span>\n</button>\n&nbsp;\n<p class=\"orientation\">\n  <label id=\"orientation-radio-group-label\">Equation orientation</label>\n  <mat-radio-group aria-labelledby=\"orientation-radio-group-label\"\n    class=\"orientation-radio-group\"\n    [ngModel]=\"config.orientation\"\n    (ngModelChange)=\"orientationChangeFn($event)\">\n    <mat-radio-button class=\"orientation-radio-button\" *ngFor=\"let orientation of equationOrientations\"\n      [value]=\"orientation.code\">\n      {{orientation.label}}\n    </mat-radio-button>\n  </mat-radio-group>\n</p>\n<mat-checkbox labelPosition=\"before\"\n  [ngModel]=\"config.realTimeValidation\"\n  (ngModelChange)='realTimeValidationChangeFn($event)'>\n  Realtime Validation\n</mat-checkbox>\n&nbsp;\n<mat-form-field appearance=\"fill\">\n  <mat-label>Answer mode</mat-label>\n  <mat-select\n    [ngModel]=\"config.answerMode\"\n    (ngModelChange)='selectedAnswerModeChangeFn($event)'>\n    <mat-option *ngFor=\"let answerMode of ANSWER_MODES\" [value]=\"answerMode.code\">\n      {{answerMode.label}}\n    </mat-option>\n  </mat-select>\n</mat-form-field>&nbsp;\n<mat-form-field appearance=\"outline\">\n  <mat-label>Numbrer of problems</mat-label>\n  <input matInput type=\"number\" [ngModel]=\"config.nbQuestions\" (ngModelChange)=\"nbProblemsChangeFn($event)\">\n</mat-form-field>","<h2 mat-dialog-title>{{congratulationMsg}}</h2>\r\n\r\n<mat-dialog-content i18n=\"@@congratulationMsg2\">You got {data.right, plural, =0 {ZERO good answer} =1 {one good answer} other {{{data.right}} good answers}} from a total of {{data.total}} questions.</mat-dialog-content>\r\n<!-- from a total of {{data.total}} questions. -->\r\n<mat-dialog-actions align=\"end\">\r\n    <button mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Close</button>\r\n</mat-dialog-actions>","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss']\n})\nexport class ProgressBarComponent implements OnInit {\n\n  constructor() { }\n\n  progress: number\n  @Input() totalCount: number\n  @Input() progressCount: number\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.totalCount !== 0) {\n      this.progress = Math.round((this.progressCount / this.totalCount) * 100);\n    }\n  }\n}","<mat-progress-bar mode=\"determinate\" [value]=\"progress\"></mat-progress-bar>\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subscription, PartialObserver } from 'rxjs';\nimport { Config, CONFIG, MATH_EXERCICISES_STORE, GENERATORS_KEY } from './config';\nimport { WorksheetsItem, WorksheetsItemStore } from '../math-generator/worksheetsDefinitions';\nimport { Worksheets } from '../math-generator/worksheets';\nimport { Worksheets2 } from '../math-generator/worksheets2';\nimport { MathProblem } from \"../math-generator/mathProblem\";\n\nexport class ConfigServiceInfo {\n  config: Config;\n  needReset: boolean;\n}\n\n\nexport interface ConfigServiceMarchelor {\n  config: Config;\n  needReset: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigService {\n\n  private configSource: BehaviorSubject<ConfigServiceInfo>;\n  //private configObservable: Observable<Config>;\n\n  constructor() {\n\n    this.loadConfig();\n    //this.configObservable = this.configSource.asObservable();\n  }\n\n  subscribe(any: any): Subscription {\n    return this.configSource.subscribe(any);\n  }\n\n  unsubscribe() {\n    if (this.configSource) {\n      this.configSource.unsubscribe();\n    }\n  }\n\n  next(config: Config, needReset: boolean) {\n    this.configSource.next({ config: config, needReset: needReset } as ConfigServiceMarchelor);\n\n    this.saveConfig(config);\n  }\n\n  private loadConfig() {\n    let storedData = localStorage.getItem(MATH_EXERCICISES_STORE);\n    let sdObject : {[index: string]:any} = (storedData == null) ? {} : JSON.parse(storedData);\n    console.log(\"storedData\")\n    console.log(storedData)\n    console.log(\"storedData\")\n\n    let cf: Config = {} as Config;\n\n    for (const key of Object.keys(CONFIG)) {\n      let val = sdObject[key];\n\n      if (val === undefined) {\n        val = CONFIG[key];\n      }\n\n      cf[key.toString()] = val;\n      //console.log(`${cf[key]} = ${sdObject[key]}`);\n    }\n\n    let generatorsObj = sdObject[GENERATORS_KEY];\n\n    if (generatorsObj !== undefined) {\n      let generators: WorksheetsItem[] = [];\n\n      for (const value of Object.values(generatorsObj)) {\n\n        let worksheetsItem: WorksheetsItem = value as WorksheetsItem\n\n        let func : (parameters: WorksheetsItem) => MathProblem = Worksheets[worksheetsItem.funcName]\n\n        if (func === undefined) {\n          func = Worksheets2[worksheetsItem.funcName]\n        }\n\n        if (func === undefined) {\n          console.warn(`\"${worksheetsItem.funcName}\" not in Worksheets`);\n        } else {\n          worksheetsItem.func = func;\n          generators.push(worksheetsItem)\n        }\n      }\n      cf[GENERATORS_KEY] = generators;\n    }\n\n    console.log(cf);\n\n\n    this.configSource = new BehaviorSubject<ConfigServiceInfo>({ config: cf, needReset: true });\n  }\n\n  private saveConfig(config: Config) {\n\n    let temp: WorksheetsItemStore = {\n      code: null,\n      funcName: null,\n      parameters: null\n    }\n\n    let cf: Record<string, any> = {};\n    //copy\n    for (const key of Object.keys(CONFIG)) {\n      cf[key] = config[key.toString()];\n      //console.log(`${cf[key]} = ${sdObject[key]}`);\n    }\n\n    //transform map to object\n    let generators: Object[] = []\n    config.generators.forEach((val: WorksheetsItem) => {\n\n      let generatorsObj: { [index: string]: any } = {}\n      for (const key of Object.keys(temp)) {\n        generatorsObj[key] = val[key];\n      }\n      generators.push(generatorsObj);\n    });\n\n    cf[GENERATORS_KEY] = generators;\n\n    let json = JSON.stringify(cf, ConfigService.jsonReplacer, \" \");\n\n    console.log(\"json config -- \" + json)\n    console.log(config)\n\n    localStorage.setItem(MATH_EXERCICISES_STORE, json);\n  }\n\n  static jsonReplacer(key: string, value: any): any {\n    if (key.startsWith(\"_\")) {\n      return undefined\n    }\n\n    return value;\n  }\n}\n","import { MathProblemTypes, GenerateRange } from '../math-generator/mathProblemTypes'\r\nimport { WorksheetsItem } from '../math-generator/worksheetsDefinitions'\r\nimport { ColumnAnswerMode } from '../column-answer/column-answer.component'\r\n\r\nexport type OrientationTypesKey = \"VERTICAL\" | \"HORIZONTAL\";\r\n\r\nexport interface EquationOrientation {\r\n    code: OrientationTypesKey;\r\n    label: string;\r\n};\r\n\r\nexport const EquationOrientations: EquationOrientation[] = [\r\n    { code: \"VERTICAL\", label: \"Vertical\" },\r\n    { code: \"HORIZONTAL\", label: \"Horizontal\" }];\r\n\r\nexport interface Config {\r\n    [index: string]: any;\r\n    nbQuestions: number;\r\n    nbNumbers: number;\r\n    answerMode: ColumnAnswerMode;\r\n    generateRange: GenerateRange[];\r\n    orientation: OrientationTypesKey;\r\n    realTimeValidation: boolean;\r\n    theme: string;\r\n    generators: WorksheetsItem[];\r\n}\r\n\r\nexport const CONFIG: Config = {\r\n    nbNumbers: 2,\r\n    nbQuestions: 20,\r\n    answerMode: ColumnAnswerMode.NORMAL,\r\n    generateRange: [{ min: 10, max: 30 }, { min: 1, max: 9 }],\r\n    orientation: \"VERTICAL\",\r\n    realTimeValidation: true,\r\n    theme: \"pink-bluegrey\",\r\n    generators: []\r\n}\r\n\r\nexport const MATH_EXERCICISES_STORE: string = \"MATH_CONFIG\";\r\nexport const GENERATORS_KEY: string = \"generators\";","import { Injectable } from '@angular/core';\nimport { Subject, Subscription, queueScheduler } from 'rxjs'\nimport { observeOn } from \"rxjs/operators\";\n\nexport enum QuestionStatus {\n  RIGHT = \"RIGHT\",\n  WRONG = \"WRONG\",\n  EMPTY = \"EMPTY\",\n  FOCUS = \"FOCUS\",\n  ANSWERED = \"ANSWERED\"\n}\n\nexport interface MathQuestionNotifier {\n  status: QuestionStatus;\n  index: number;\n  id: string;\n  forceExitFocus: boolean;\n  isParentCanValidate: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MathQuestionService {\n\n\n  private observable: Subject<MathQuestionNotifier>;\n\n  constructor() {\n    this.observable = new Subject();\n  }\n\n  unsubscribe() {\n    if (this.observable) {\n      this.observable.unsubscribe();\n    }\n  }\n\n  next(notification: MathQuestionNotifier) {\n    //this.observable.toPromise().then(notification);\n    this.observable.next(notification);\n  }\n\n  subscribe(func: (notification: MathQuestionNotifier) => void): Subscription {\n    \n    return this.observable.subscribe(func);\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { ConfigService } from '../../services/config.service'\nimport { MathQuestionService, MathQuestionNotifier, QuestionStatus } from '../../services/math-question.service';\nimport { Config, CONFIG, MATH_EXERCICISES_STORE, GENERATORS_KEY } from '../../services/config';\nimport { ColumnAnswerMode } from 'src/app/column-answer/column-answer.component';\nimport { WorksheetsItem } from '../../math-generator/worksheetsDefinitions';\nimport { Worksheets } from '../../math-generator/worksheets';\nimport { MathProblem } from \"../../math-generator/mathProblem\";\nimport { MathProblemTypes, GenerateRange } from '../../math-generator/mathProblemTypes';\nimport { MathGenerator } from '../../math-generator/mathGenerator';\n\n@Component({\n  selector: 'app-display-test',\n  templateUrl: './display-test.component.html',\n  styleUrls: ['./display-test.component.scss']\n})\nexport class DisplayTestComponent implements OnInit {\n  progress: number;\n  successCount: number;\n  needReset: boolean = false;\n\n\n  configs: Config[] = [\n    {\n      ...CONFIG,\n      answerMode: ColumnAnswerMode.COLUMNS,\n      generators: [{\n        func: DisplayTestComponent.testLongNum,\n      } as unknown as WorksheetsItem]\n    },\n    {\n      ...CONFIG,\n      answerMode: ColumnAnswerMode.NORMAL,\n      generators: [{\n        func: DisplayTestComponent.testLongNum,\n      } as unknown as WorksheetsItem]\n    },\n    {\n      ...CONFIG,\n      answerMode: ColumnAnswerMode.COLUMNS,\n      generators: [{\n        func: Worksheets.addTowDigitNumberWithTowDigitNumberWithCarry,\n      } as unknown as WorksheetsItem]\n    },\n    {\n      ...CONFIG,\n      orientation: \"HORIZONTAL\"\n    }, {\n      ...CONFIG,\n      answerMode: ColumnAnswerMode.COLUMNS,\n    }, { ...CONFIG },\n  ]\n\n  constructor(private configService: ConfigService,\n    private mathQuestionService: MathQuestionService) {\n    this.progress = 0;\n    this.successCount = 0;\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  static testLongNum(): MathProblem {\n\n    let generateRange: GenerateRange[] = [\n      { min: 1000000, max: 10000000 },\n      { min: 1000000, max: 10000000 }\n    ];\n\n    return MathGenerator.getListofRandomNumber(generateRange, MathProblemTypes.ADDITION);\n\n  }\n}","<div class=\"problems\">\n    <div *ngFor=\"let config of configs; index as i\" class=\"mathQuestionWrapper\">\n        <app-math-question [questionId]='i' [config]=\"config\" [needReset]=\"needReset\"></app-math-question>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-input-test',\n  templateUrl: './input-test.component.html',\n  styleUrls: ['./input-test.component.scss']\n})\nexport class InputTestComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n  }\n\n  onKeydown(event: KeyboardEvent) {\n    console.log(event);\n\n    let str = `c:${event.code} k:${event.key}  ${event.isComposing} ${event.ctrlKey} `\n    this.lines.unshift(str);\n  }\n\n  lines : string[] = []\n}\n","\n<input type=\"number\" (keydown)=\"onKeydown($event)\" >\n\n<p *ngFor=\"let line of lines\">{{line}}</p>\n","import { Component, OnInit } from '@angular/core';\nimport { trigger, transition, state, animate, style, keyframes } from '@angular/animations';\nimport { MATH_EXERCICISES_STORE } from '../services/config';\nimport { ColumnAnswerMode,  ANSWER_MODES, FocusType } from '../column-answer/column-answer.component'\nimport { QuestionStatus } from '../services/math-question.service';\nimport { ValidateCB } from '../math-question/math-question.component';\n\nconst testcomponent = 3;\ninterface AnswerInputConfig {\n  size: number;\n  mode: ColumnAnswerMode;\n  status: QuestionStatus;\n  value: string;\n  inFocus: boolean;\n}\n\n@Component({\n  selector: 'app-test-features',\n  templateUrl: './test-features.component.html',\n  styleUrls: ['./test-features.component.scss'],\n  animations: [\n    trigger('slideStatus', [\n      state('inactive', style({ backgroundColor: 'blue' })),\n      state('active', style({ backgroundColor: 'orange' })),\n\n      transition('* => active', [\n        animate('2s', keyframes([\n          style({ backgroundColor: 'blue', offset: 0 }),\n          style({ backgroundColor: 'red', offset: 0.8 }),\n          style({ backgroundColor: 'orange', offset: 1.0 })\n        ])),\n      ]),\n      transition('* => inactive', [\n        animate('2s', keyframes([\n          style({ backgroundColor: 'orange', offset: 0 }),\n          style({ backgroundColor: 'red', offset: 0.2 }),\n          style({ backgroundColor: 'blue', offset: 1.0 })\n        ]))\n      ]),\n\n      transition('* => active', [\n        animate('2s', keyframes([\n          style({ backgroundColor: 'blue' }),\n          style({ backgroundColor: 'red' }),\n          style({ backgroundColor: 'orange' })\n        ]))\n      ]),\n    ])\n  ]\n})\nexport class TestFeaturesComponent implements OnInit {\n  status: 'active' | 'inactive' = 'inactive';\n  ANSWER_MODES = ANSWER_MODES;\n  inputStatus: string[] = []\n\n\n  //value: string[] = new Array(testcomponent);\n  //statusOfInput: QuestionStatus[] = new Array(testcomponent);\n\n\n  answerInputConfigs: AnswerInputConfig[] = [\n    {\n      size: 4,\n      mode: ColumnAnswerMode.COLUMNS,\n      status: QuestionStatus.EMPTY,\n      value: \"3\",\n      inFocus: false\n    },\n    {\n      size: 5,\n      mode: ColumnAnswerMode.NORMAL,\n      status: QuestionStatus.EMPTY,\n      value: \"67\",\n      inFocus: false\n    },\n    {\n      size: 5,\n      mode: ColumnAnswerMode.COLUMNS,\n      status: QuestionStatus.EMPTY,\n      value: \"1234\",\n      inFocus: false\n    },\n    {\n      size: 3,\n      mode: ColumnAnswerMode.COLUMNS,\n      status: QuestionStatus.EMPTY,\n      value: \"\",\n      inFocus: false\n    },\n    {\n      size: 4,\n      mode: ColumnAnswerMode.NORMAL,\n      status: QuestionStatus.EMPTY,\n      value: \"\",\n      inFocus: false\n    }\n  ]\n\n  constructor() {\n    for (var enumMember in QuestionStatus) {\n      console.log(\"enum member: \", enumMember);\n      this.inputStatus.push(enumMember)\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  toggle() {\n    if (this.status === 'active') {\n      this.status = 'inactive';\n    } else {\n      this.status = 'active';\n    }\n  }\n\n  clearStorage() {\n    localStorage.clear();\n  }\n\n\n  onValueChange: ValidateCB = (value: string, index: number): QuestionStatus => {\n\n    console.log(`onValueChange ${value} ${index}`)\n    this.answerInputConfigs[+index].value = value;\n    return QuestionStatus.RIGHT\n  }\n\n  myCallbackFunction : ValidateCB = (value: string, index : number): QuestionStatus => {\n    //callback code here\n    //console.warn(\"CALLBACK\")\n    //console.warn(this)\n\n    console.log(`myCallbackFunction ${value} ${index}`);\n    this.answerInputConfigs[+index].value = value;\n    let val = parseInt(value)\n\n    let ret : any = val ? val % 2 == 0 : false\n    return  ret as QuestionStatus;\n  }\n\n  onFocusChange(focus: FocusType, index: number) {\n    console.log(`FOCUS change ${focus} Widget: ${index}`);\n    this.answerInputConfigs[index].inFocus = focus == FocusType.FOCUS;\n  }\n}\n","<h1>Test</h1>\n\n<ng-template ngFor let-i=\"index\" let-answer [ngForOf]=\"answerInputConfigs\">\n    <app-column-answer \n        [size]='answer.size'\n        [mode]='answer.mode'\n        [value]=\"answer.value\"\n        [id]=\"i.toString()\"\n        [answerStatus]=\"answer.status\"\n        (focusChange)=\"onFocusChange($event, i)\"\n        [valueChange]=\"myCallbackFunction\"></app-column-answer>\n    <br>\n    <select [(ngModel)]=\"answer.status\">\n        <option\n            *ngFor=\"let x of inputStatus\"\n            [value]=\"x\">{{x}}</option>\n    </select> &nbsp;\n    <input [(ngModel)]=\"answer.value\">\n\n    <span class=\"focusIndicator\" *ngIf=\"answerInputConfigs[i].inFocus; else elseBlock\">FOCUS</span>\n    <ng-template #elseBlock>\n        <span class=\"focusIndicator\">BLUR</span>\n    </ng-template>\n\n    <mat-form-field appearance=\"fill\">\n        <mat-label>Answer mode</mat-label>\n        <mat-select\n            [(ngModel)]=\"answerInputConfigs[i].mode\">\n            <mat-option *ngFor=\"let answerMode of ANSWER_MODES\" [value]=\"answerMode.code\">\n                {{answerMode.label}}\n            </mat-option>\n        </mat-select>\n    </mat-form-field>&nbsp; \n    <mat-form-field appearance=\"outline\">\n        <mat-label>Size</mat-label>\n        <input matInput type=\"number\" [(ngModel)]=\"answer.size\">\n      </mat-form-field>\n    <br />\n    value: {{answerInputConfigs[i].value }}\n    <br>\n    <hr>\n</ng-template>\n\n<h1>Test theme</h1>\n\n<div class=\"primary\">Primary</div>\n<div class=\"accent\">Accent</div>\n<div class=\"warn\">Warn</div>\n<div></div>\n\n<h1>Test anime</h1>\n<button (click)=\"toggle()\">toggle1</button>\n<br />\n<br />\n<div [@slideStatus]=\"status\" class=\"box\">Test color animation</div>\n<br />\n<input [@slideStatus]=\"status\" class=\"box\" value='test' />\n<br />\n<br />\n<button (click)=\"toggle()\">toggle</button>\n<br />\n<br />\n<button (click)=\"clearStorage()\">Clear Storage</button>","import { LiveAnnouncer } from '@angular/cdk/a11y';\nimport { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSort, MatSortModule, Sort } from '@angular/material/sort';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MathProblem } from 'src/app/math-generator/mathProblem';\nimport { Worksheets } from 'src/app/math-generator/worksheets';\n\n@Component({\n  selector: 'app-test-generator',\n  standalone: true,\n  imports: [MatButtonModule, MatTableModule, MatSortModule],\n  templateUrl: './test-generator.component.html',\n  styleUrl: './test-generator.component.scss'\n})\nexport class TestGeneratorComponent implements OnInit , AfterViewInit{\n\n  generation = 20\n\n  displayedColumns: string[] = ['position', 'question', 'answer'];\n  mathProblems = new MatTableDataSource([])\n  mathProblemsOrg = new MatTableDataSource([])\n\n  @ViewChild('table1') sort1: MatSort;\n  @ViewChild('table2') sort2: MatSort;\n\n  constructor(private _liveAnnouncer: LiveAnnouncer) {}\n\n  ngOnInit(): void {\n    this.generate();\n  }\n\n  ngAfterViewInit() {\n    this.mathProblems.sort = this.sort1;\n    this.mathProblemsOrg.sort = this.sort2;\n  }\n\n  generate() {\n\n\n    let mathProblems: MathProblem[] = []\n    let mathProblemsOrg: MathProblem[] = []\n    for (var i = 0; i < this.generation; ++i) {\n      let mathProblem: MathProblem = Worksheets.addSingleDigitNumberNoCarry2();\n      mathProblems.push(mathProblem);\n\n      let mathProblem2: MathProblem = Worksheets.addSingleDigitNumberNoCarry();\n      mathProblemsOrg.push(mathProblem2);\n    }\n\n    console.log(\"generate\", mathProblems)\n\n\n    this.mathProblems.data = mathProblems\n    this.mathProblemsOrg.data = mathProblemsOrg\n  }\n\n   /** Announce the change in sort state for assistive technology. */\n   /*\n   announceSortChange(sortState: Sort) {\n    // This example uses English messages. If your application supports\n    // multiple language, you would internationalize these strings.\n    // Furthermore, you can customize the message to add additional\n    // details about the values being sorted.\n    if (sortState.direction) {\n      this._liveAnnouncer.announce(`Sorted ${sortState.direction}ending`);\n    } else {\n      this._liveAnnouncer.announce('Sorting cleared');\n    }\n  }\n  */\n}","<div>\n  <button mat-flat-button color=\"primary\" (click)=\"generate()\">Generate</button>\n</div>\n<table mat-table [dataSource]=\"mathProblems\" matSort #table1=\"matSort\">\n  <ng-container matColumnDef=\"position\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription=\"Sort by position\"> Num. </th>\n    <td mat-cell *matCellDef=\"let element; let i = index\">{{i + 1}}</td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"question\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription=\"Sort by question\"> Question </th>\n    <td mat-cell *matCellDef=\"let element\">{{element.question}}</td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"answer\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription=\"Sort by answer\"> Answer </th>\n    <td mat-cell *matCellDef=\"let element\">{{element.answer}}</td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>\n\nOriginal\n<table mat-table [dataSource]=\"mathProblemsOrg\" matSort #table2=\"matSort\" >\n  <ng-container matColumnDef=\"position\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header > Num. </th>\n    <td mat-cell *matCellDef=\"let element; let i = index\">{{i + 1}}</td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"question\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header > Question </th>\n    <td mat-cell *matCellDef=\"let element\">{{element.question}}</td>\n  </ng-container>\n\n  <ng-container matColumnDef=\"answer\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header > Answer </th>\n    <td mat-cell *matCellDef=\"let element\">{{element.answer}}</td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>","import { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-test-palette',\n  templateUrl: './test-palette.component.html',\n  styleUrls: ['./test-palette.component.scss']\n})\nexport class TestPaletteComponent implements OnInit {\n\n  hues: string[] = [\"red\", \"pink\", \"purple\", \"deep-purple\", \"indigo\", \"blue\", \"light-blue\", \"cyan\", \"teal\",\n    \"green\", \"light-green\", \"lime\", \"yellow\", \"amber\", \"orange\", \"deep-orange\", \"brown\", \"grey\", \"blue-grey\"];\n\n  shades = [\"50\", \"100\", \"200\", \"300\", \"400\", \"500\",\n    \"600\", \"700\", \"800\", \"900\", \"A100\", \"A200\", \"A400\", \"A700\"];\n\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n\n","<section *ngFor=\"let hue of hues\">\n    <h1>{{hue}}</h1>\n    <section *ngFor=\"let shade of shades\">\n        <div class=\"tp-{{hue}}-{{shade}}\">{{shade}}</div>\n    </section>\n</section>","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { Config } from '../services/config';\nimport { Subscription } from 'rxjs';\nimport { ConfigService, ConfigServiceInfo } from '../services/config.service'\nimport { WorkTask } from './worktask'\nimport { MathGenerator } from '../math-generator/mathGenerator'\nimport { BreakpointObserver, Breakpoints, BreakpointState } from '@angular/cdk/layout';\n\nenum WorkoutStatus {\n  Begin,\n  Work,\n  Finish\n}\n\n@Component({\n  selector: 'app-workout-panel',\n  templateUrl: './workout-panel.component.html',\n  styleUrls: ['./workout-panel.component.scss']\n})\nexport class WorkoutPanelComponent implements OnInit {\n  @ViewChild('answerField') answerField: ElementRef;\n\n  config: Config;\n  stacked: boolean;\n  myEventSubscriptions: Subscription[] = [];\n  tasks: WorkTask[];\n  currentTask: WorkTask;\n  userInput: string = \"\";\n  index: number;\n  WorkoutStatusEnum = WorkoutStatus;\n  status: WorkoutStatus;\n\n  constructor(private configService: ConfigService,\n    breakpointObserver: BreakpointObserver) {\n    breakpointObserver.observe([\n      Breakpoints.XSmall,\n      /*      Breakpoints.Small,\n            Breakpoints.Medium,\n            Breakpoints.Large,*/\n      Breakpoints.XLarge\n    ]).subscribe((result: BreakpointState) => {\n  \n      if (result.breakpoints[Breakpoints.XSmall]) {\n        document.documentElement.style.setProperty(\"--equationFontSize\", \"24px\");\n      }\n\n      if (result.breakpoints[Breakpoints.XLarge]) {\n        document.documentElement.style.setProperty(\"--equationFontSize\", \"48px\");\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.myEventSubscriptions.push(this.configService.subscribe(\n      (cfsi: ConfigServiceInfo) => {\n        this.config = cfsi.config;\n        this.stacked = this.config.orientation == \"VERTICAL\";\n      }\n    ));\n    this.userInput = \"\"\n    this.status = WorkoutStatus.Begin;\n  }\n\n  initTasks() {\n    this.tasks = new Array(this.config.nbQuestions);\n\n    for (let i = 0; i < this.config.nbQuestions; i++) {\n      let problem = MathGenerator.generateProblem(this.config);\n      let task = new WorkTask(problem);\n      this.tasks[i] = task;\n     \n    }\n  }\n\n  ngOnDestroy(): void {\n    this.myEventSubscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  typeKey(event: KeyboardEvent) {\n    console.log(\"typeKey\");\n    console.log(event);\n  }\n\n  check(event: KeyboardEvent) {\n    console.log(`check ui: '${this.userInput}'`);\n    console.log(event);\n\n    let uInput = parseInt(this.userInput);\n\n    if (uInput == this.currentTask.answer) {\n      this.currentTask.setEndTime();\n      this.index++;\n      if (this.index >= this.tasks.length) {\n        this.currentTask = null;\n        this.status = WorkoutStatus.Finish;\n      } else {\n        this.setCurrentTask();\n      }\n    } else {\n      //calculate errors\n      let answerLength = this.currentTask.answer.toString().length;\n      let userInputLength = uInput.toString().length;\n\n      if (answerLength == userInputLength) {\n        this.currentTask.errors++;\n      }\n    }\n  }\n\n  start(): void {\n    this.initTasks();\n    this.index = 0;\n    this.status = WorkoutStatus.Work;\n    this.setCurrentTask()\n    //TODO set focus on input\n    this.setFocus();\n  }\n\n  setCurrentTask(): void {\n    this.currentTask = this.tasks[this.index];\n    this.userInput = \"\";\n    this.currentTask.setStartTime();\n  }\n\n  setFocus() {\n    setTimeout(() => this.answerField.nativeElement.focus());\n  }\n\n  get totalCount() {\n    return this.tasks?.length;\n  }\n\n  updateNumberOfQuestions(nbQuestions : number) {\n    if (nbQuestions > 0) {\n      let diff = this.config.nbQuestions != nbQuestions;\n      this.config.nbQuestions = nbQuestions;\n      if (diff) {\n        this.configService.next(this.config, false)\n      }\n    }\n  }\n}\n","<app-progress-bar [totalCount]=\"totalCount\" [progressCount]=\"index\"></app-progress-bar>\n<div class=\"main-div\">\n  <mat-card class=\"center\">\n    <div class=\"progressBar\">\n      <mat-card-title *ngIf=\"tasks && index < tasks.length\">{{index + 1}}<ng-container i18n=\"@@progressionMessage\"> of\n        </ng-container>{{tasks.length}}\n      </mat-card-title>\n    </div>\n    <div *ngIf=\"status == WorkoutStatusEnum.Begin\">\n      <button mat-raised-button color=\"accent\" (click)=\"start()\"\n        i18n=\"@@startButton\">Start</button>\n      <mat-form-field appearance=\"outline\">\n        <mat-label i18n=\"@@Number of questions\">Number of questions</mat-label>\n        <input matInput type=\"number\" [ngModel]=\"config.nbQuestions\" (ngModelChange)=\"updateNumberOfQuestions($event)\">\n      </mat-form-field>\n    </div>\n    <div class=\"mathQuestion\" *ngIf=\"status == WorkoutStatusEnum.Work\">\n      <span [ngClass]=\"{'equation':true, 'stacked': stacked}\">\n        <ng-template ngFor let-num [ngForOf]=\"currentTask.values\" let-i=\"index\" let-last=\"last\">\n          <span class=\"number\">{{num}}</span>\n          <span *ngIf=\"last==false\" class=\"operator\">{{currentTask.operator}}</span>\n        </ng-template>\n        <span class=\"equals\">=</span>\n        <input #answerField class=\"answerField\" [(ngModel)]=\"userInput\" autofocus=\"autofocus\" autocomplete=\"off\"\n          placeholder=\"?\"\n          (keypress)=\"typeKey($event)\" (keyup)=\"check($event)\" type=\"number\" autofocus />\n      </span>\n    </div>\n    <div *ngIf=\"status == WorkoutStatusEnum.Finish\">\n      <mat-card-title i18n=\"@@finished\">Finished</mat-card-title>\n      <table class=\"results\">\n        <thead>\n          <tr>\n            <th i18n=\"@@resultNo\"></th>\n            <th i18n=\"@@resultEquation\">Equation</th>\n            <th i18n=\"@@resultAnswer\">Answer</th>\n            <th i18n=\"@@resultTime\">Time</th>\n            <th i18n=\"@@resultMistakes\">Mistakes</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let task of tasks, let i = index\">\n            <td>{{i + 1}}</td>\n            <td>{{task.problem.question}}</td>\n            <td>{{task.answer}}</td>\n            <td>{{task.getTimeInSec()}} sec.</td>\n            <td>{{task.errors}}</td>\n          </tr>\n        </tbody>\n      </table>\n      <mat-card-actions>\n        <button mat-raised-button color=\"accent\" (click)=\"start()\" i18n=\"@@startAgainButton\">Start again</button>\n        <mat-form-field appearance=\"outline\">\n          <mat-label i18n=\"@@Number of questions\">Number of questions</mat-label>\n          <input matInput type=\"number\" [ngModel]=\"config.nbQuestions\"\n            (ngModelChange)=\"updateNumberOfQuestions($event)\">\n        </mat-form-field>\n      </mat-card-actions>\n    </div>\n  </mat-card>\n</div>","import { MathProblem } from \"../math-generator/mathProblem\";\n\nexport class WorkTask {\n    problem: MathProblem;\n    time: number = 0;\n    //userAnswer: number[];\n    startTime: number = 0;\n    endTime: number = 0;\n    errors: number = 0;\n    \n    constructor(problem: MathProblem) {\n        this.problem = problem\n    }\n\n    get answer(): number {\n        return this.problem.answer;\n    };\n\n    get values(): number[] {\n        return this.problem.values\n    }\n\n    get operator(): string {\n        return this.problem.mathProplemActions.operator;\n    }\n\n    setStartTime() {\n        this.startTime = Date.now()\n    }\n\n    setEndTime() {\n        this.endTime = Date.now()\n    }\n\n    getTime() : number {\n        return this.endTime - this.startTime;\n    }\n\n    getTimeInSec() : string {\n         return (this.getTime() / 1000).toFixed(1);\n    }\n}\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["EventEmitter","QuestionStatus","FocusType","AnswerValueComponent","constructor","user_input_value","id","status_change","myEventSubscriptions","currentFocus","BLUR","isSwitchColunm","answerStatus","EMPTY","ngOnDestroy","forEach","subscription","console","debug","log","unsubscribe","clearInput","modelChangeNormal","msg","isEmpty","length","change","newStatus","validate_value_change","status","config","realTimeValidation","validate_answer_real_time","validate_answer_on_blur","empty","FOCUS","ANSWERED","changeStatus","informParent","real_answer","userAnswer","parseInt","RIGHT","isNaN","userAnswerLength","toString","answerLength","WRONG","forceExitFocus","isParentCanValidate","emit","get_class","clazz","onFocusSimple","e","setInFocus","onBlurSimple","newFocus","focus","inputs","first","nativeElement","_","_2","selectors","viewQuery","AnswerValueComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","AnswerValueComponent_Template_button_click_1_listener","ɵɵrestoreView","_r1","ɵɵresetView","ɵɵelement","ɵɵelementEnd","AnswerValueComponent_Template_input_focus_3_listener","$event","AnswerValueComponent_Template_input_blur_3_listener","AnswerValueComponent_Template_input_ngModelChange_3_listener","ɵɵproperty","ɵɵadvance","RouterModule","WorkoutPanelComponent","PageNotFoundComponent","ProblemPanelComponent","MainPageComponent","TestFeaturesComponent","DisplayTestComponent","InputTestComponent","MultiplicationTableComponent","TestPaletteComponent","TestGeneratorComponent","appRoutes","path","component","AppRoutingModule","_3","forRoot","enableTracing","imports","i1","exports","LOCALE_ID","EquationOrientations","ɵɵtext","ɵɵpropertyInterpolate1","loc_r2","code","ɵɵsanitizeUrl","ɵɵtextInterpolate1","label","theme_r3","value","ɵɵtextInterpolate","orientation_r4","AppComponent","configSrv","router","locale","previoustheme","myname","equationOrientations","themes","localesList","localeLabel","find","loc","ngOnInit","push","subscribe","next","cfgi","setTheme","theme","document","body","classList","remove","add","menuThemeRadioChange","event","realTimeValidationChange","menuEquationOrientationChange","getAnimationData","outlet","activatedRouteData","goHome","navigate","goMultiplicationTable","goAdditionTable","ɵɵdirectiveInject","ConfigService","i2","Router","decls","vars","consts","i18n_0","ngI18nClosureMode","$localize","ɵɵi18n","ɵɵtemplate","AppComponent_a_16_Template","AppComponent_Template_button_click_19_listener","AppComponent_Template_button_click_25_listener","AppComponent_Template_button_click_28_listener","ɵɵtwoWayListener","AppComponent_Template_mat_checkbox_ngModelChange_41_listener","ɵɵtwoWayBindingSet","AppComponent_Template_mat_checkbox_change_41_listener","AppComponent_Template_mat_radio_group_ngModelChange_45_listener","AppComponent_Template_mat_radio_group_change_45_listener","AppComponent_div_46_Template","AppComponent_Template_mat_radio_group_ngModelChange_49_listener","orientation","AppComponent_Template_mat_radio_group_change_49_listener","AppComponent_div_50_Template","menu_r6","menuLang_r5","menuTheme_r7","menuEquationOrientation_r8","ɵɵtwoWayProperty","BrowserModule","HttpClientModule","MathQuestionComponent","ProblemPanelComponentDialog","FormsModule","ReactiveFormsModule","BrowserAnimationsModule","ConfigDialogOpenerComponent","ConfigDialogComponent","A11yModule","ClipboardModule","DragDropModule","PortalModule","ScrollingModule","CdkStepperModule","CdkTableModule","CdkTreeModule","MatAutocompleteModule","MatBadgeModule","MatBottomSheetModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatCheckboxModule","MatChipsModule","MatStepperModule","MatDatepickerModule","MatDialogModule","MatDividerModule","MatExpansionModule","MatGridListModule","MatIconModule","MatInputModule","MatListModule","MatMenuModule","MatNativeDateModule","MatRippleModule","MatPaginatorModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatSortModule","MatTableModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatTreeModule","ConfigDialogRangesComponent","FormPanelComponent","ArrayFilterPipe","ColumnAnswerComponent","ProgressBarComponent","MainTabsSeriesComponent","MainTabsProgramsComponent","MainButtonsComponent","MatFormFieldModule","AppModule","bootstrap","declarations","NgForOf","NgIf","NgTemplateOutlet","transform","items","callback","args","filter","item","pure","trigger","state","style","ɵɵelementContainer","ColumnAnswerComponent_ng_template_1_input_4_Template_input_ngModelChange_0_listener","i_r3","_r2","index","ctx_r3","ɵɵnextContext","userInputs","ColumnAnswerComponent_ng_template_1_input_4_Template_input_keydown_0_listener","onKeydown","modelChangeFn","ColumnAnswerComponent_ng_template_1_input_4_Template_input_focus_0_listener","onFocusColumns","ColumnAnswerComponent_ng_template_1_input_4_Template_input_blur_0_listener","onBlurColumns","tabindex","placeholder","ColumnAnswerComponent_ng_template_1_input_4_Template","ColumnAnswerComponent_ng_template_1_Template_button_click_5_listener","trackByIdx","ColumnAnswerComponent_ng_template_3_Template_button_click_0_listener","_r5","ColumnAnswerComponent_ng_template_3_Template_input_ngModelChange_2_listener","ColumnAnswerComponent_ng_template_3_Template_input_keydown_2_listener","onKeydownSimple","ColumnAnswerComponent_ng_template_3_Template_input_focus_2_listener","ColumnAnswerComponent_ng_template_3_Template_input_blur_2_listener","ɵɵpureFunction1","_c1","size","changeDetectorRef","iconRegistry","sanitizer","mode","focusChange","existFocus","columnAnswerMode","ColumnAnswerMode","re","switchColumnFocus","switchSimpleFocusCB","newCol","oldCol","switchColumnFocusCB","inputsArray","toArray","setTimeout","select","fill","fillSimple","fillColumn","val","i","last","j","inFocus","addTabIndex","addSvgIcon","bypassSecurityTrustResourceUrl","ngOnChanges","changes","COLUMNS","Array","ngAfterViewInit","idx","isClearCell","detectChanges","newChange","test","exec","inputchar","setUserInputs","dico","v","valueChange","leaveCursorThere","val2","key","exitWidget","obj","target","removeTabIndex","setlastTabIndex","indexValue","ChangeDetectorRef","MatIconRegistry","DomSanitizer","ColumnAnswerComponent_Query","ColumnAnswerComponent_ng_container_0_Template","ColumnAnswerComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","ColumnAnswerComponent_ng_template_3_Template","columns_r6","normal_r7","backgroundColor","ANSWER_MODES","NORMAL","dialog","configService","cfi","openDialog","dialogRef","open","width","data","afterClosed","results","MatDialog","template","ConfigDialogOpenerComponent_Template","ConfigDialogOpenerComponent_Template_button_click_0_listener","MAT_DIALOG_DATA","MATHProplemActions","UntypedFormControl","Validators","UntypedFormGroup","UntypedFormArray","i_r1","ConfigDialogRangesComponent_td_12_mat_error_3_Template","ConfigDialogRangesComponent_td_12_mat_error_4_Template","ConfigDialogRangesComponent_td_12_mat_error_5_Template","i_r2","ctx_r2","parentErrorStateMatcher","numbers","controls","getError","minBiggerThanMaxTest","ConfigDialogRangesComponent_td_15_mat_error_3_Template","ConfigDialogRangesComponent_td_15_mat_error_4_Template","ConfigDialogRangesComponent_td_15_mat_error_5_Template","i_r4","displayedColumns","valueFormControl","updateOn","ParentErrorStateMatcher","mathProplemActions","mathProplemActionsKeys","Object","keys","equationRangeForm","arr","get","nbNumbers","gr","generateRange","elem","min","max","required","validators","minBiggerThanMaxValidator","cancel","close","apply","element","setRanges","errors","minBiggerThanMax","MatDialogRef","ConfigDialogRangesComponent_Template","ɵɵelementContainerStart","ConfigDialogRangesComponent_th_8_Template","ConfigDialogRangesComponent_td_9_Template","ConfigDialogRangesComponent_th_11_Template","ConfigDialogRangesComponent_td_12_Template","ConfigDialogRangesComponent_th_14_Template","ConfigDialogRangesComponent_td_15_Template","ConfigDialogRangesComponent_tr_16_Template","ConfigDialogRangesComponent_tr_17_Template","ConfigDialogRangesComponent_Template_button_click_19_listener","ConfigDialogRangesComponent_Template_button_click_21_listener","valid","control","isErrorState","form","isSubmitted","submitted","controlTouched","dirty","touched","controlInvalid","invalid","parentInvalid","parent","mpt_r1","ctx_r1","name","op","configForm","nbProblems","nbQuestions","assign","JSON","stringify","testpizza","ConfigDialogComponent_Template","ConfigDialogComponent_mat_error_8_Template","ConfigDialogComponent_mat_error_9_Template","ConfigDialogComponent_Template_button_click_11_listener","ConfigDialogComponent_mat_error_17_Template","ConfigDialogComponent_mat_error_18_Template","ConfigDialogComponent_mat_option_23_Template","ConfigDialogComponent_Template_button_click_25_listener","ConfigDialogComponent_Template_button_click_27_listener","tmp_1_0","tmp_2_0","tmp_3_0","tmp_4_0","dataSource","FormPanelComponent_td_12_mat_error_3_Template","FormPanelComponent_td_12_mat_error_4_Template","skills","level","user","group0","pizza","FormPanelComponent_Template","FormPanelComponent_th_5_Template","FormPanelComponent_td_6_Template","FormPanelComponent_th_8_Template","FormPanelComponent_td_9_Template","FormPanelComponent_th_11_Template","FormPanelComponent_td_12_Template","FormPanelComponent_tr_13_Template","FormPanelComponent_tr_14_Template","pushButtonEvent","goToProblems","ButtonPushedStatus","TO_PROBLEMS","goToWorkout","TO_WORKOUT","clear","CLEAR","disableButton","outputs","MainButtonsComponent_Template_input_ngModelChange_3_listener","MainButtonsComponent_Template_button_click_5_listener","MainButtonsComponent_Template_button_click_8_listener","MainButtonsComponent_Template_button_click_11_listener","TAB_INDEX_KEY","selectedTabIndex","tabIndex","localStorage","getItem","selectedTabIndexChange","setItem","MainPageComponent_Template_mat_tab_group_selectedIndexChange_0_listener","WorksheetsMap","MatCheckbox","ɵɵpropertyInterpolate","MainTabsProgramsComponent_mat_chip_option_8_Template_mat_chip_option_removed_0_listener","problemType_r3","$implicit","MainTabsProgramsComponent_mat_chip_option_8_mat_icon_2_Template","selectable","removable","mathProblemTypesMap","MainTabsProgramsComponent_section_9_li_4_Template_mat_checkbox_change_1_listener","worksheetsItem_r6","checkboxChange","checked","isSelected","MainTabsProgramsComponent_section_9_li_4_Template","worksheetsItemPerOperation_r7","mathProblemTypesData","exercises","worksheetsItemPerOperations","worksheetsItems","Map","problemTypes","getWorksheetsItem","exercicesPerOP","values","x","set","a","mathProblemType","k","generators","worksheetsItem","has","fillMap","setUpConfig","warn","getAdditions","filterOperation","b","delete","unCheckAll","checkboxes","selected","pushedButton","buttonPushed","operationToDisplay","includes","problemType","MainTabsProgramsComponent_Query","MainTabsProgramsComponent_Template_mat_select_valueChange_4_listener","MainTabsProgramsComponent_mat_option_5_Template","MainTabsProgramsComponent_mat_chip_option_8_Template","MainTabsProgramsComponent_section_9_Template","MainTabsProgramsComponent_Template_app_main_buttons_pushButtonEvent_10_listener","Worksheets2","MathProblemTypes","RangeManager","operator","ɵɵi18nStart","ɵɵi18nEnd","params","MULTIPLICATION","numbers1","numbers2","shuffle","start","end","tables","map","vdator","pattern","numberForControl1","numberForControl2","fillPageData","func","multiplicationTable","parameters","setValue","toDisable","rangeParser","wi","funcName","grade","isDisabled","MainTabsSeriesComponent_Template_app_main_buttons_pushButtonEvent_0_listener","MainTabsSeriesComponent_Template_mat_select_valueChange_7_listener","MainTabsSeriesComponent_mat_option_8_Template","MainTabsSeriesComponent_mat_error_14_Template","MainTabsSeriesComponent_mat_error_15_Template","MainTabsSeriesComponent_mat_error_22_Template","MainTabsSeriesComponent_mat_error_23_Template","MainTabsSeriesComponent_Template_mat_checkbox_ngModelChange_27_listener","MainTabsSeriesComponent_Template_app_main_buttons_pushButtonEvent_31_listener","hasError","MathProblem","MathGenerator","generateProblem","generateProblemNext","it","itres","worksheetItem","done","default","getListofRandomNumber","mathProblemTypes","rg","getRandomIntInclusive","SUBTRACTION","sort","Math","floor","random","ADDITION","getSeries","type","getSize","list","invert","DIVISION","range2","number2","range1","number1","mathProblem","getInvert","getSeries2","number","answer","questionStr","_answer","opFunc","question","q","orderAssending","orderDescending","array","currentIndex","temporaryValue","randomIndex","error","displaySize","reduce","total","num","Relation","getNumbers","ranges","result","r","str","combine","split","range","rangeNum","previousIsNaN","Error","tmp","combineRanges","ordered","combined","current","join","Worksheets","addSingleDigitNumber","testLongNum","addSingleDigitNumberNoCarry","addSingleDigitNumberNoCarry2","program","answer_matrice","trunc","max_answer","abs","math_problem","addTowSingleDigitNumberSum10orLess","addTowXDigitNumbersNoCarry","addDoubleDigitWithSingleDigitNumberNoCarry","prog","addTowXDigitNumbersNoCarryProg","addTowDoubleDigitNumbersNoCarry","xDigit","WorksheetProgram","instruction","valmax","valmin","n","pow","mp","addTowDigitNumberWithTowDigitNumberWithCarry","addTowXDigitNumbersWithCarry","addTwoNumbersAnswerBellow20","addTwoNumbersAnswerBetwen10And20","subtractOneDigitNumberFromOneDigitNumberWithoutRegrouping","subtractXDigitNumberFromXDigitNumberWithoutRegrouping","subtractAnswerbelow10","highNumber","subtractAnswerbelow10_1","subtractMultiplesOf10","subtractOneDigitNumberFromTwoDigitNumberWithoutRegrouping","subtractOneDigitNumberFromTwoDigitNumberWithRegrouping","subtractXDigitNumberFromXDigitNumberWithRegrouping","subtractTowDigitNumberFromTwoDigitNumberWithoutRegrouping","subtractTwoDigitNumberFromTwoDigitNumberWithRegrouping","subtractXDigitNumberFromXDigitNumber","withRegrouping","isFirst","isLast","subtractXDigitNumberFromXDigitNumber_back","WorksheetProgramInstruction","multiplySingleDigitNumber","parametersType","context","_context","numbersRange1","numbersRange2","series","worksheetsMap","getInstance","generateMapItem","param","w","workSheetItem","MathQuestionComponent_ng_container_4_ng_container_5_Template","MathQuestionComponent_ng_container_4_ng_container_7_Template","ctx_r0","problem","answerMode","columns_r2","normal_r3","answerField2_r4","MathQuestionComponent_ng_template_5_ng_template_1_span_2_Template","num_r5","last_r6","MathQuestionComponent_ng_template_5_ng_template_1_Template","MathQuestionComponent_ng_template_5_ng_container_4_Template","digit_r7","MathQuestionComponent_ng_template_7_div_0_div_1_Template","number_r8","MathQuestionComponent_ng_template_7_div_0_Template","number_r9","MathQuestionComponent_ng_template_9_div_0_Template","MathQuestionComponent_ng_template_11_Template_app_column_answer_focusChange_1_listener","_r10","onFocusChange","MathQuestionComponent_ng_template_11_Template_app_column_answer_existFocus_1_listener","questionId","userInput","onValueChange","MathQuestionComponent_ng_template_13_Template_app_answer_value_status_change_1_listener","_r11","on_status_change","regexNumVal","mathQuestionService","stacked","callerId","validateAnswer","validateInput","_problem","needReset","isFirstChange","reset","trim","preventUpDown","preventDefault","typeKey","notRight","focucusingOut","new_status","columnAnswerComponent","answer_value_component","notEmpty","forceExit","notification","message","format_trace","MathQuestionService","i3","MathQuestionComponent_Query","MathQuestionComponent_ng_container_4_Template","MathQuestionComponent_ng_template_5_Template","MathQuestionComponent_ng_template_7_Template","MathQuestionComponent_ng_template_9_Template","MathQuestionComponent_ng_template_11_Template","MathQuestionComponent_ng_template_13_Template","flat_r12","ɵɵtextInterpolate4","column","row","calculate","calculateClasses","num2_r2","MultiplicationTableComponent_tr_5_td_3_Template_td_mouseover_0_listener","col_r5","_r4","row_r6","onMouseHover","num1_r9","num2_r7","MultiplicationTableComponent_tr_5_td_3_Template","route","tablesSelected","addition","url","calculateAddition","calculateMultiplication","c","col","isColRowSet","num1","num2","ActivatedRoute","MultiplicationTableComponent_Template","MultiplicationTableComponent_section_0_Template","MultiplicationTableComponent_th_4_Template","MultiplicationTableComponent_tr_5_Template","PageNotFoundComponent_Template","ProblemPanelComponent_button_5_Template_button_click_0_listener","_r3","validate","answerMode_r5","answerMap","substriptions","resetProgress","cfsi","problems","manageNotification","substription","currentStatus","manageStatus","increaseProgress","successCount","problemsCount","decreaseProgress","nextComponentFocus","canValidate","mathQuestionComponents","mathQuestionComponent","runOverCommponents","undefined","nextOne","limit","mqcArray","mq","focusFirst","clearAll","padding","padSize","Promise","resolve","then","orientationChangeFn","realTimeValidationChangeFn","m","selectedAnswerModeChangeFn","selectedAnswerMode","nbProblemsChangeFn","right","wrong","ProblemPanelComponent_Query","ProblemPanelComponent_div_2_Template","ProblemPanelComponent_div_3_Template","ProblemPanelComponent_button_5_Template","ProblemPanelComponent_Template_button_click_7_listener","ProblemPanelComponent_Template_button_click_13_listener","ProblemPanelComponent_Template_button_click_19_listener","ProblemPanelComponent_Template_mat_radio_group_ngModelChange_28_listener","ProblemPanelComponent_mat_radio_button_29_Template","ProblemPanelComponent_Template_mat_checkbox_ngModelChange_30_listener","ProblemPanelComponent_Template_mat_select_ngModelChange_36_listener","ProblemPanelComponent_mat_option_37_Template","ProblemPanelComponent_Template_input_ngModelChange_42_listener","congratulationMsg","ɵɵi18nExp","totalCount","progress","round","progressCount","features","ɵɵNgOnChangesFeature","ProgressBarComponent_Template","BehaviorSubject","CONFIG","MATH_EXERCICISES_STORE","GENERATORS_KEY","ConfigServiceInfo","loadConfig","any","configSource","saveConfig","storedData","sdObject","parse","cf","generatorsObj","temp","json","jsonReplacer","startsWith","factory","ɵfac","providedIn","Subject","observable","config_r1","configs","DisplayTestComponent_Template","DisplayTestComponent_div_1_Template","line_r1","lines","isComposing","ctrlKey","unshift","InputTestComponent_Template","InputTestComponent_Template_input_keydown_0_listener","InputTestComponent_p_1_Template","transition","animate","keyframes","x_r5","answerMode_r6","TestFeaturesComponent_ng_template_2_Template_app_column_answer_focusChange_0_listener","TestFeaturesComponent_ng_template_2_Template_select_ngModelChange_2_listener","answer_r4","TestFeaturesComponent_ng_template_2_option_3_Template","TestFeaturesComponent_ng_template_2_Template_input_ngModelChange_5_listener","TestFeaturesComponent_ng_template_2_span_6_Template","TestFeaturesComponent_ng_template_2_ng_template_7_Template","TestFeaturesComponent_ng_template_2_Template_mat_select_ngModelChange_12_listener","answerInputConfigs","TestFeaturesComponent_ng_template_2_mat_option_13_Template","TestFeaturesComponent_ng_template_2_Template_input_ngModelChange_18_listener","myCallbackFunction","inputStatus","elseBlock_r7","testcomponent","ret","enumMember","toggle","clearStorage","TestFeaturesComponent_Template","TestFeaturesComponent_ng_template_2_Template","TestFeaturesComponent_Template_button_click_14_listener","TestFeaturesComponent_Template_button_click_24_listener","TestFeaturesComponent_Template_button_click_28_listener","offset","MatTableDataSource","element_r3","element_r4","i_r5","element_r6","element_r7","_liveAnnouncer","generation","mathProblems","mathProblemsOrg","generate","sort1","sort2","mathProblem2","LiveAnnouncer","TestGeneratorComponent_Query","TestGeneratorComponent_Template_button_click_1_listener","TestGeneratorComponent_th_6_Template","TestGeneratorComponent_td_7_Template","TestGeneratorComponent_th_9_Template","TestGeneratorComponent_td_10_Template","TestGeneratorComponent_th_12_Template","TestGeneratorComponent_td_13_Template","TestGeneratorComponent_tr_14_Template","TestGeneratorComponent_tr_15_Template","TestGeneratorComponent_th_20_Template","TestGeneratorComponent_td_21_Template","TestGeneratorComponent_th_23_Template","TestGeneratorComponent_td_24_Template","TestGeneratorComponent_th_26_Template","TestGeneratorComponent_td_27_Template","TestGeneratorComponent_tr_28_Template","TestGeneratorComponent_tr_29_Template","MatButton","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i4","MatSort","MatSortHeader","styles","ɵɵclassMapInterpolate2","hue_r2","shade_r1","TestPaletteComponent_section_0_section_3_Template","shades","hues","TestPaletteComponent_Template","TestPaletteComponent_section_0_Template","WorkTask","Breakpoints","tasks","WorkoutPanelComponent_div_5_Template_button_click_1_listener","WorkoutPanelComponent_div_5_Template_input_ngModelChange_6_listener","updateNumberOfQuestions","currentTask","WorkoutPanelComponent_div_6_ng_template_2_span_2_Template","num_r4","last_r5","WorkoutPanelComponent_div_6_ng_template_2_Template","WorkoutPanelComponent_div_6_Template_input_ngModelChange_5_listener","WorkoutPanelComponent_div_6_Template_input_keypress_5_listener","WorkoutPanelComponent_div_6_Template_input_keyup_5_listener","check","i_r8","task_r7","getTimeInSec","WorkoutPanelComponent_div_7_tr_16_Template","WorkoutPanelComponent_div_7_Template_button_click_18_listener","_r6","WorkoutPanelComponent_div_7_Template_input_ngModelChange_23_listener","WorkoutStatus","breakpointObserver","WorkoutStatusEnum","observe","XSmall","XLarge","breakpoints","documentElement","setProperty","Begin","initTasks","task","uInput","setEndTime","Finish","setCurrentTask","userInputLength","Work","setFocus","setStartTime","answerField","diff","BreakpointObserver","WorkoutPanelComponent_Query","WorkoutPanelComponent_mat_card_title_4_Template","WorkoutPanelComponent_div_5_Template","WorkoutPanelComponent_div_6_Template","WorkoutPanelComponent_div_7_Template","time","startTime","endTime","Date","now","getTime","toFixed","environment","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///"}